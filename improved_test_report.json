{
  "start_time": 1754345388.190148,
  "environment_setup": {
    "python_path": "/Users/rizwanmoidunni/Github/internal",
    "pytest_available": true,
    "dependencies_checked": false,
    "environment_vars": {
      "SUPABASE_URL": "NOT_SET",
      "SUPABASE_SERVICE_KEY": "NOT_SET",
      "ANTHROPIC_API_KEY": "NOT_SET",
      "OPENAI_API_KEY": "NOT_SET"
    },
    "issues": [
      "Missing dependencies: ['pytest-asyncio', 'pytest-cov']"
    ]
  },
  "test_phases": {
    "collection": {
      "tests/unit/": {
        "phase": "Collection Test - tests/unit/",
        "start_time": 1754345389.68494,
        "command": [
          "/Library/Developer/CommandLineTools/usr/bin/python3",
          "-m",
          "pytest",
          "--tb=short",
          "-v",
          "--no-cov",
          "--disable-warnings",
          "--collect-only",
          "/Users/rizwanmoidunni/Github/internal/tests/unit"
        ],
        "return_code": 0,
        "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.9.6, pytest-8.4.1, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nrootdir: /Users/rizwanmoidunni/Github/internal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0, Faker-37.1.0, cov-6.2.1, mock-3.14.1, benchmark-5.1.0\nasyncio: mode=auto, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 254 items\n\n<Dir internal>\n  <Package tests>\n    <Dir unit>\n      <Module test_database_hybrid.py>\n        Comprehensive tests for database hybrid service.\n        \n        Tests Supabase client, workflow operations, block operations, \n        mock data fallback, transactions, and performance.\n        \n        Coverage target: 90%+ for database_hybrid.py\n        <Class TestDatabaseService>\n          Test suite for DatabaseService.\n          <Coroutine test_supabase_connection_initialization_success>\n            Test successful Supabase connection initialization.\n          <Coroutine test_supabase_connection_failure_handling>\n            Test Supabase connection failure handling.\n          <Coroutine test_supabase_retry_logic>\n            Test connection retry logic on failures.\n          <Coroutine test_mock_supabase_responses>\n            Test mocking of Supabase responses.\n          <Coroutine test_get_workflow_success>\n            Test successful workflow retrieval.\n          <Coroutine test_get_workflow_not_found>\n            Test workflow retrieval when workflow doesn't exist.\n          <Coroutine test_get_all_workflows>\n            Test retrieval of all workflows.\n          <Coroutine test_get_all_workflows_with_pagination>\n            Test workflow retrieval with pagination parameters.\n          <Coroutine test_update_workflow_state_success>\n            Test successful workflow state update.\n          <Coroutine test_update_workflow_state_failure>\n            Test workflow state update failure handling.\n          <Coroutine test_create_workflow>\n            Test workflow creation.\n          <Coroutine test_delete_workflow>\n            Test workflow deletion.\n          <Coroutine test_get_workflow_blocks_success>\n            Test successful workflow blocks retrieval.\n          <Coroutine test_get_workflow_blocks_empty>\n            Test workflow blocks retrieval when no blocks exist.\n          <Coroutine test_get_workflow_blocks_with_filtering>\n            Test workflow blocks retrieval with type filtering.\n          <Coroutine test_get_workflow_blocks_with_sorting>\n            Test workflow blocks retrieval with sorting.\n          <Coroutine test_create_workflow_blocks>\n            Test creation of multiple workflow blocks.\n          <Coroutine test_update_workflow_blocks>\n            Test updating multiple workflow blocks.\n          <Coroutine test_delete_workflow_blocks>\n            Test deletion of workflow blocks.\n          <Coroutine test_mock_data_fallback_workflow_operations>\n            Test fallback to mock data when Supabase unavailable.\n          <Coroutine test_mock_data_consistency>\n            Test that mock data maintains consistency across calls.\n          <Coroutine test_mock_data_structure_validation>\n            Test that mock data follows expected structure.\n          <Coroutine test_graceful_degradation_no_errors>\n            Test graceful degradation without throwing errors.\n          <Coroutine test_transaction_context_manager>\n            Test database transaction context manager.\n          <Coroutine test_transaction_rollback_on_error>\n            Test transaction rollback on errors.\n          <Coroutine test_atomic_operations>\n            Test atomic database operations.\n          <Coroutine test_concurrent_access_handling>\n            Test handling of concurrent database access.\n          <Coroutine test_deadlock_handling>\n            Test database deadlock handling and recovery.\n          <Coroutine test_query_optimization>\n            Test database query optimization.\n          <Coroutine test_batch_operations_performance>\n            Test performance of batch database operations.\n          <Coroutine test_connection_pooling_efficiency>\n            Test database connection pooling efficiency.\n          <Coroutine test_cache_invalidation>\n            Test database cache invalidation strategies.\n          <Coroutine test_connection_timeout_handling>\n            Test handling of database connection timeouts.\n          <Coroutine test_query_failure_recovery>\n            Test recovery from query failures.\n          <Coroutine test_constraint_violation_handling>\n            Test handling of database constraint violations.\n          <Coroutine test_table_not_found_handling>\n            Test handling when database tables don't exist.\n          <Coroutine test_large_dataset_handling>\n            Test handling of large dataset operations.\n          <Coroutine test_sql_injection_prevention>\n            Test SQL injection prevention measures.\n          <Coroutine test_data_validation_before_storage>\n            Test data validation before database storage.\n      <Module test_lookup_service.py>\n        Comprehensive tests for Enhanced Lookup Service (RAG caching system).\n        \n        Tests lookup key generation, similarity search, pattern storage, cache adaptation,\n        temp record management, and semantic search.\n        \n        Coverage target: 90%+ for lookup_service.py\n        <Class TestEnhancedLookupService>\n          Test suite for EnhancedLookupService.\n          <Function test_lookup_key_generation_consistency>\n            Test that lookup key generation is consistent for same inputs.\n          <Function test_lookup_key_uniqueness_different_inputs>\n            Test that different inputs generate different lookup keys.\n          <Function test_lookup_key_similar_patterns>\n            Test lookup key generation for similar but not identical patterns.\n          <Function test_lookup_key_hash_collision_handling>\n            Test handling of potential hash collisions.\n          <Function test_lookup_key_special_characters>\n            Test lookup key generation with special characters in input.\n          <Coroutine test_similarity_search_exact_match>\n            Test similarity search with exact pattern match.\n          <Coroutine test_similarity_search_high_similarity>\n            Test similarity search with high similarity (>80% match).\n          <Coroutine test_similarity_search_no_matches>\n            Test similarity search when no similar patterns exist.\n          <Coroutine test_similarity_search_multiple_matches_ranking>\n            Test similarity search with multiple matches and proper ranking.\n          <Coroutine test_similarity_threshold_filtering>\n            Test that similarity search respects threshold filtering.\n          <Coroutine test_pattern_storage_new_pattern>\n            Test storing a new workflow pattern.\n          <Coroutine test_pattern_storage_update_existing>\n            Test updating an existing workflow pattern.\n          <Coroutine test_pattern_storage_usage_count_increment>\n            Test that pattern usage count increments properly.\n          <Coroutine test_pattern_storage_timestamp_updates>\n            Test that pattern timestamps are updated correctly.\n          <Coroutine test_cache_adaptation_minor_changes>\n            Test cache adaptation for minor workflow changes.\n          <Coroutine test_cache_adaptation_major_changes>\n            Test cache adaptation for major workflow changes.\n          <Coroutine test_cache_adaptation_similarity_thresholds>\n            Test different similarity thresholds for cache adaptation.\n          <Coroutine test_cache_adaptation_performance_tracking>\n            Test that cache adaptation tracks performance metrics.\n          <Coroutine test_temp_record_creation>\n            Test creation of temporary workflow records.\n          <Coroutine test_temp_record_update_with_results>\n            Test updating temp records with generation results.\n          <Coroutine test_temp_record_cleanup_old_records>\n            Test cleanup of old temporary records.\n          <Coroutine test_temp_record_session_management>\n            Test session-based temp record management.\n          <Coroutine test_semantic_search_openai_embeddings>\n            Test semantic search using OpenAI embeddings.\n          <Coroutine test_semantic_search_vector_similarity>\n            Test vector similarity calculations in semantic search.\n          <Coroutine test_semantic_search_natural_language_queries>\n            Test semantic search with various natural language queries.\n          <Coroutine test_semantic_search_ranking_accuracy>\n            Test accuracy of semantic search result ranking.\n          <Coroutine test_lookup_service_performance_benchmarks>\n            Test lookup service performance benchmarks.\n          <Coroutine test_hybrid_search_integration>\n            Test integration of structural and semantic search.\n          <Coroutine test_cache_statistics_tracking>\n            Test comprehensive cache statistics tracking.\n      <Module test_state_generator.py>\n        Comprehensive tests for StateGenerator class.\n        \n        Tests AI state generation, edge inference, workflow type determination,\n        fallback generation, state enhancement, and error handling.\n        \n        Coverage target: 95%+ for state_generator.py\n        <Class TestStateGenerator>\n          Test suite for StateGenerator.\n          <Coroutine test_successful_ai_state_generation>\n            Test successful state generation using Claude AI.\n            \n            Verifies:\n            - Mock workflow and blocks data\n            - Mock Claude API response  \n            - Generated state structure\n            - Blocks, edges, metadata\n          <Coroutine test_edge_inference_linear_workflow>\n            Test edge inference from positions - linear workflow.\n            \n            Tests workflow with blocks at x-positions: 100, 300, 500\n            Verifies correct sequential edge connections.\n          <Coroutine test_edge_inference_branching_workflow>\n            Test edge inference for branching workflow.\n            \n            Tests workflow with parallel y-positions creating branches.\n            Verifies correct branching edge connections.\n          <Coroutine test_edge_inference_complex_multirow_workflow>\n            Test edge inference for complex multi-row workflow.\n            \n            Tests complex workflow with multiple rows and connections.\n            Verifies correct complex edge relationships.\n          <Coroutine test_workflow_type_determination_trading_bot>\n            Test trading bot pattern detection.\n            \n            Verifies workflow type is correctly identified as 'trading_bot'\n            based on block patterns and configurations.\n          <Coroutine test_workflow_type_determination_lead_generation>\n            Test lead generation pattern detection.\n            \n            Verifies workflow type is correctly identified as 'lead_generation'\n            based on block patterns and configurations.\n          <Coroutine test_workflow_type_determination_multi_agent>\n            Test multi-agent pattern detection.\n            \n            Verifies workflow with 3+ agents is identified as 'multi_agent'.\n          <Coroutine test_workflow_type_determination_generic>\n            Test generic workflow pattern detection.\n            \n            Verifies workflow that doesn't match specific patterns \n            is identified as 'generic'.\n          <Coroutine test_fallback_state_generation>\n            Test fallback generation when AI is unavailable.\n            \n            Verifies:\n            - Rule-based state generation when Claude API fails\n            - All blocks included in fallback state\n            - Basic structure maintained\n            - Quick response time (<2s)\n          <Coroutine test_state_enhancement_missing_blocks>\n            Test state enhancement - missing blocks addition.\n            \n            Verifies that missing blocks are added during enhancement.\n          <Coroutine test_state_enhancement_metadata_generation>\n            Test metadata generation during state enhancement.\n            \n            Verifies proper metadata is added to generated states.\n          <Coroutine test_state_enhancement_subblocks>\n            Test subBlocks enhancement during state generation.\n            \n            Verifies that appropriate subBlocks are added to blocks.\n          <Coroutine test_edge_validation_and_enhancement>\n            Test edge validation during state enhancement.\n            \n            Verifies that invalid edges are removed and valid ones maintained.\n          <Coroutine test_error_handling_missing_workflow>\n            Test error handling for missing workflow.\n            \n            Verifies appropriate error when workflow doesn't exist.\n          <Coroutine test_error_handling_empty_blocks>\n            Test error handling for empty blocks.\n            \n            Verifies appropriate error when no blocks exist for workflow.\n          <Coroutine test_error_handling_invalid_data>\n            Test error handling for invalid workflow data.\n            \n            Verifies appropriate error handling for corrupted data.\n          <Coroutine test_error_handling_api_timeout>\n            Test error handling for API timeouts.\n            \n            Verifies fallback behavior when Claude API times out.\n          <Coroutine test_concurrent_state_generation>\n            Test concurrent state generation requests.\n            \n            Verifies system handles multiple simultaneous requests properly.\n          <Coroutine test_workflow_complexity_analysis>\n            Test workflow complexity analysis.\n            \n            Verifies system correctly analyzes and reports workflow complexity.\n          <Coroutine test_state_generation_performance>\n            Test state generation performance benchmarks.\n            \n            Verifies generation completes within acceptable time limits.\n      <Module test_templates.py>\n        Comprehensive tests for all 13 workflow templates.\n        \n        Tests template availability, generation, customization, block generation, and edge cases.\n        \n        Coverage target: 100% for template system\n        <Class TestTemplateService>\n          Test suite for TemplateService - all 13 templates.\n          <Function test_all_13_templates_exist>\n            Test that all 13 templates are available.\n          <Function test_template_metadata_structure>\n            Test that template metadata follows expected structure.\n          <Function test_template_categories_coverage>\n            Test that templates cover expected categories.\n          <Function test_template_structure_validation>\n            Test that all templates have valid structure.\n          <Function test_template_generation_with_defaults[lead_generation]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[trading_bot]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[multi_agent_research]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[customer_support]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[web3_automation]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[data_pipeline]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[content_generation]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[notification_system]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[social_media_automation]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[ecommerce_automation]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[hr_recruitment]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[financial_analysis]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_defaults[project_management]>\n            Test template generation with default parameters for all 13 templates.\n          <Function test_template_generation_with_custom_params[lead_generation]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[trading_bot]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[multi_agent_research]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[customer_support]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[web3_automation]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[data_pipeline]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[content_generation]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[notification_system]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[social_media_automation]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[ecommerce_automation]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[hr_recruitment]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[financial_analysis]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_generation_with_custom_params[project_management]>\n            Test template generation with custom parameters for all templates.\n          <Function test_template_block_structure_compliance[lead_generation]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[trading_bot]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[multi_agent_research]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[customer_support]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[web3_automation]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[data_pipeline]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[content_generation]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[notification_system]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[social_media_automation]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[ecommerce_automation]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[hr_recruitment]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[financial_analysis]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_block_structure_compliance[project_management]>\n            Test that generated templates comply with Agent Forge block structure.\n          <Function test_template_edge_connections[lead_generation]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[trading_bot]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[multi_agent_research]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[customer_support]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[web3_automation]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[data_pipeline]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[content_generation]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[notification_system]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[social_media_automation]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[ecommerce_automation]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[hr_recruitment]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[financial_analysis]>\n            Test that template edges create proper connections.\n          <Function test_template_edge_connections[project_management]>\n            Test that template edges create proper connections.\n          <Function test_trading_bot_customization_parameters>\n            Test trading bot template with various customization parameters.\n          <Function test_lead_generation_customization_sources>\n            Test lead generation template with different lead sources.\n          <Function test_social_media_platform_combinations>\n            Test social media automation with different platform combinations.\n          <Function test_multi_agent_research_agent_count>\n            Test multi-agent research template with different agent counts.\n          <Function test_template_specific_parameter_validation>\n            Test that templates validate their specific parameters.\n          <Function test_block_types_per_template>\n            Test that each template generates correct block types.\n          <Function test_block_positioning_logic>\n            Test that blocks are positioned logically in templates.\n          <Function test_block_configuration_validity>\n            Test that generated blocks have valid configurations.\n          <Function test_subblocks_configuration>\n            Test that blocks have appropriate subBlocks configuration.\n          <Function test_template_workflow_connections>\n            Test that template workflows have proper connectivity.\n          <Function test_invalid_template_name>\n            Test error handling for invalid template names.\n          <Function test_empty_customization_handling>\n            Test handling of empty customization parameters.\n          <Function test_malformed_parameter_handling>\n            Test handling of malformed parameters.\n          <Function test_partial_customization_robustness>\n            Test robustness with partial customization.\n          <Function test_extreme_parameter_values>\n            Test handling of extreme parameter values.\n          <Function test_template_generation_performance>\n            Test template generation performance.\n          <Function test_template_consistency_across_calls>\n            Test that templates generate consistent results across multiple calls.\n          <Function test_all_templates_generate_valid_agent_forge_output>\n            Test that all 13 templates generate valid Agent Forge compatible output.\n      <Module test_validation.py>\n        Comprehensive tests for validation system.\n        \n        Tests all 9 validators: Schema, Block Type, Starter Block, Agent Configuration,\n        API Integration, Edge Connectivity, Workflow Pattern, Position Bounds, SubBlock Structure.\n        \n        Coverage target: 100% for validation.py\n        <Class TestWorkflowValidator>\n          Test suite for WorkflowValidator - all 9 validators.\n          <Function test_schema_validation_valid_state>\n            Test schema validation with valid state structure.\n          <Function test_schema_validation_missing_blocks>\n            Test schema validation with missing required 'blocks' field.\n          <Function test_schema_validation_missing_edges>\n            Test schema validation with missing required 'edges' field.\n          <Function test_schema_validation_missing_metadata>\n            Test schema validation with missing required 'metadata' field.\n          <Function test_schema_validation_wrong_field_types>\n            Test schema validation with wrong field types.\n          <Function test_schema_validation_empty_state>\n            Test schema validation with completely empty state.\n          <Function test_block_type_validation_valid_types[starter]>\n            Test block type validation with valid block types.\n          <Function test_block_type_validation_valid_types[agent]>\n            Test block type validation with valid block types.\n          <Function test_block_type_validation_valid_types[api]>\n            Test block type validation with valid block types.\n          <Function test_block_type_validation_valid_types[output]>\n            Test block type validation with valid block types.\n          <Function test_block_type_validation_valid_types[tool]>\n            Test block type validation with valid block types.\n          <Function test_block_type_validation_invalid_types[invalid_type]>\n            Test block type validation with invalid block types.\n          <Function test_block_type_validation_invalid_types[unknown]>\n            Test block type validation with invalid block types.\n          <Function test_block_type_validation_invalid_types[custom_block]>\n            Test block type validation with invalid block types.\n          <Function test_block_type_validation_invalid_types[workflow]>\n            Test block type validation with invalid block types.\n          <Function test_block_type_validation_invalid_types[process]>\n            Test block type validation with invalid block types.\n          <Function test_block_type_validation_missing_type_field>\n            Test block type validation with missing 'type' field.\n          <Function test_block_type_validation_mixed_valid_invalid>\n            Test block type validation with mix of valid and invalid types.\n          <Function test_starter_block_validation_has_starter>\n            Test starter block validation with starter block present.\n          <Function test_starter_block_validation_no_starter>\n            Test starter block validation without starter block.\n          <Function test_starter_block_validation_multiple_starters>\n            Test starter block validation with multiple starter blocks.\n          <Function test_starter_block_configuration_validation>\n            Test starter block configuration validation.\n          <Function test_agent_config_validation_valid_models[gpt-4]>\n            Test agent configuration validation with valid AI models.\n          <Function test_agent_config_validation_valid_models[gpt-3.5-turbo]>\n            Test agent configuration validation with valid AI models.\n          <Function test_agent_config_validation_valid_models[claude-3-5-sonnet]>\n            Test agent configuration validation with valid AI models.\n          <Function test_agent_config_validation_valid_models[claude-3-haiku]>\n            Test agent configuration validation with valid AI models.\n          <Function test_agent_config_validation_valid_models[gemini-pro]>\n            Test agent configuration validation with valid AI models.\n          <Function test_agent_config_validation_invalid_models[gpt-5]>\n            Test agent configuration validation with invalid models.\n          <Function test_agent_config_validation_invalid_models[claude-4]>\n            Test agent configuration validation with invalid models.\n          <Function test_agent_config_validation_invalid_models[invalid-model]>\n            Test agent configuration validation with invalid models.\n          <Function test_agent_config_validation_invalid_models[custom-ai]>\n            Test agent configuration validation with invalid models.\n          <Function test_agent_config_validation_invalid_models[]>\n            Test agent configuration validation with invalid models.\n          <Function test_agent_config_validation_missing_system_prompt>\n            Test agent configuration validation with missing system prompt.\n          <Function test_agent_config_validation_missing_model>\n            Test agent configuration validation with missing model selection.\n          <Function test_agent_config_validation_temperature_valid[0.0]>\n            Test agent configuration validation with valid temperature values.\n          <Function test_agent_config_validation_temperature_valid[0.5]>\n            Test agent configuration validation with valid temperature values.\n          <Function test_agent_config_validation_temperature_valid[1.0]>\n            Test agent configuration validation with valid temperature values.\n          <Function test_agent_config_validation_temperature_valid[1.5]>\n            Test agent configuration validation with valid temperature values.\n          <Function test_agent_config_validation_temperature_valid[2.0]>\n            Test agent configuration validation with valid temperature values.\n          <Function test_agent_config_validation_temperature_invalid[-1.0]>\n            Test agent configuration validation with invalid temperature values.\n          <Function test_agent_config_validation_temperature_invalid[3.0]>\n            Test agent configuration validation with invalid temperature values.\n          <Function test_agent_config_validation_temperature_invalid[high]>\n            Test agent configuration validation with invalid temperature values.\n          <Function test_agent_config_validation_temperature_invalid[None]>\n            Test agent configuration validation with invalid temperature values.\n          <Function test_api_integration_validation_valid_config>\n            Test API integration validation with valid API blocks.\n          <Function test_api_integration_validation_missing_url>\n            Test API integration validation with missing URL.\n          <Function test_api_integration_validation_invalid_url_format[not-a-url]>\n            Test API integration validation with invalid URL formats.\n          <Function test_api_integration_validation_invalid_url_format[ftp://invalid.com]>\n            Test API integration validation with invalid URL formats.\n          <Function test_api_integration_validation_invalid_url_format[javascript:alert(1)]>\n            Test API integration validation with invalid URL formats.\n          <Function test_api_integration_validation_invalid_url_format[]>\n            Test API integration validation with invalid URL formats.\n          <Function test_api_integration_validation_invalid_url_format[None]>\n            Test API integration validation with invalid URL formats.\n          <Function test_api_integration_validation_missing_method>\n            Test API integration validation with missing HTTP method.\n          <Function test_api_integration_validation_headers>\n            Test API integration validation with various header configurations.\n          <Function test_edge_connectivity_validation_all_connected>\n            Test edge connectivity validation with all blocks connected.\n          <Function test_edge_connectivity_validation_orphaned_blocks>\n            Test edge connectivity validation with orphaned blocks.\n          <Function test_edge_connectivity_validation_invalid_references>\n            Test edge connectivity validation with invalid edge references.\n          <Function test_edge_connectivity_validation_circular_dependencies>\n            Test edge connectivity validation with circular dependencies.\n          <Function test_edge_connectivity_validation_self_referencing>\n            Test edge connectivity validation with self-referencing edges.\n          <Function test_workflow_pattern_validation_lead_generation>\n            Test workflow pattern validation for lead generation pattern.\n          <Function test_workflow_pattern_validation_multi_agent>\n            Test workflow pattern validation for multi-agent pattern.\n          <Function test_workflow_pattern_validation_trading_bot>\n            Test workflow pattern validation for trading bot pattern.\n          <Function test_workflow_pattern_validation_detection_accuracy>\n            Test pattern detection accuracy for various workflow types.\n          <Function test_position_bounds_validation_valid_positions[-200-0]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[-200-1000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[-200-2000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[0-0]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[0-1000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[0-2000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[500-0]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[500-1000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[500-2000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[1000-0]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[1000-1000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_valid_positions[1000-2000]>\n            Test position bounds validation with valid positions (0-2000 x, -200-1000 y).\n          <Function test_position_bounds_validation_invalid_x_positions[-100]>\n            Test position bounds validation with out of bounds x positions.\n          <Function test_position_bounds_validation_invalid_x_positions[2100]>\n            Test position bounds validation with out of bounds x positions.\n          <Function test_position_bounds_validation_invalid_x_positions[5000]>\n            Test position bounds validation with out of bounds x positions.\n          <Function test_position_bounds_validation_invalid_y_positions[-300]>\n            Test position bounds validation with out of bounds y positions.\n          <Function test_position_bounds_validation_invalid_y_positions[1100]>\n            Test position bounds validation with out of bounds y positions.\n          <Function test_position_bounds_validation_invalid_y_positions[2000]>\n            Test position bounds validation with out of bounds y positions.\n          <Function test_position_bounds_validation_negative_positions>\n            Test position bounds validation with negative positions.\n          <Function test_position_bounds_validation_float_vs_integer[float]>\n            Test position bounds validation with float vs integer positions.\n          <Function test_position_bounds_validation_float_vs_integer[string]>\n            Test position bounds validation with float vs integer positions.\n          <Function test_subblock_structure_validation_valid_structure>\n            Test subBlock structure validation with valid subBlock structure.\n          <Function test_subblock_structure_validation_missing_id_type>\n            Test subBlock structure validation with missing id/type fields.\n          <Function test_subblock_structure_validation_nested_subblocks>\n            Test subBlock structure validation with nested subBlocks.\n          <Function test_subblock_structure_validation_block_specific>\n            Test subBlock structure validation for block-specific subBlocks.\n          <Function test_complete_workflow_validation_all_pass>\n            Test complete workflow validation with all validators passing.\n          <Function test_complete_workflow_validation_multiple_failures>\n            Test complete workflow validation with multiple validator failures.\n          <Function test_validation_levels_and_severity[strict]>\n            Test different validation levels and severity handling.\n          <Function test_validation_levels_and_severity[lenient]>\n            Test different validation levels and severity handling.\n          <Function test_validation_levels_and_severity[warning_only]>\n            Test different validation levels and severity handling.\n          <Function test_validation_performance_large_workflow>\n            Test validation performance with large workflows.\n\n========================= 254 tests collected in 0.12s =========================\n",
        "stderr": "",
        "tests_collected": 254,
        "tests_passed": 0,
        "tests_failed": 0,
        "tests_skipped": 0,
        "duration": 0.7204201221466064,
        "success": true
      },
      "tests/integration/": {
        "phase": "Collection Test - tests/integration/",
        "start_time": 1754345390.4057422,
        "command": [
          "/Library/Developer/CommandLineTools/usr/bin/python3",
          "-m",
          "pytest",
          "--tb=short",
          "-v",
          "--no-cov",
          "--disable-warnings",
          "--collect-only",
          "/Users/rizwanmoidunni/Github/internal/tests/integration"
        ],
        "return_code": 0,
        "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.9.6, pytest-8.4.1, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nrootdir: /Users/rizwanmoidunni/Github/internal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0, Faker-37.1.0, cov-6.2.1, mock-3.14.1, benchmark-5.1.0\nasyncio: mode=auto, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 20 items\n\n<Dir internal>\n  <Package tests>\n    <Dir integration>\n      <Module test_full_workflow.py>\n        <Class TestAgentForgeIntegration>\n          Integration tests for complete Agent Forge workflow generation flow\n          <Coroutine test_full_workflow_generation_flow>\n            Test complete flow from database to Agent Forge state generation\n          <Coroutine test_workflow_validation_flow>\n            Test workflow validation endpoint\n          <Coroutine test_workflow_state_retrieval>\n            Test workflow state retrieval endpoint\n          <Function test_health_check_integration>\n            Test health check endpoint with all systems\n          <Function test_block_types_documentation>\n            Test block types documentation endpoint\n          <Coroutine test_error_handling_integration>\n            Test error handling in integration scenarios\n          <Function test_api_documentation_integration>\n            Test API documentation is properly generated\n          <Coroutine test_concurrent_requests_handling>\n            Test handling of concurrent requests\n        <Class TestTemplateIntegration>\n          Integration tests for template system\n          <Function test_template_listing>\n            Test template listing endpoint\n          <Coroutine test_template_workflow_creation>\n            Test creating workflow from template\n      <Module test_simple_integration.py>\n        Simple integration test to demonstrate comprehensive testing system.\n        <Class TestSimpleIntegration>\n          Simple integration tests to verify testing infrastructure.\n          <Function test_mock_data_availability>\n            Test that mock data fixtures are available.\n          <Function test_fixture_structure>\n            Test that pytest fixtures work properly.\n          <Function test_template_names_parameterized[trading_bot]>\n            Test parameterized testing works.\n          <Function test_template_names_parameterized[lead_generation]>\n            Test parameterized testing works.\n          <Function test_template_names_parameterized[social_media_automation]>\n            Test parameterized testing works.\n          <Function test_mock_responses_structure>\n            Test that mock responses are properly structured.\n          <Coroutine test_async_test_support>\n            Test that async tests work properly.\n          <Function test_environment_setup>\n            Test that environment variable mocking works.\n          <Function test_performance_monitoring>\n            Test that performance monitoring works.\n          <Function test_error_scenarios_fixture>\n            Test that error scenarios fixture works.\n\n========================= 20 tests collected in 0.63s ==========================\n",
        "stderr": "",
        "tests_collected": 20,
        "tests_passed": 0,
        "tests_failed": 0,
        "tests_skipped": 0,
        "duration": 1.3449327945709229,
        "success": true
      }
    },
    "unit_tests": {
      "phase": "Unit Tests",
      "start_time": 1754345391.750897,
      "command": [
        "/Library/Developer/CommandLineTools/usr/bin/python3",
        "-m",
        "pytest",
        "--tb=short",
        "-v",
        "--no-cov",
        "--disable-warnings",
        "/Users/rizwanmoidunni/Github/internal/tests/unit/test_database_hybrid.py",
        "/Users/rizwanmoidunni/Github/internal/tests/unit/test_state_generator.py",
        "/Users/rizwanmoidunni/Github/internal/tests/unit/test_validation.py",
        "/Users/rizwanmoidunni/Github/internal/tests/unit/test_templates.py",
        "/Users/rizwanmoidunni/Github/internal/tests/unit/test_lookup_service.py"
      ],
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.9.6, pytest-8.4.1, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nrootdir: /Users/rizwanmoidunni/Github/internal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0, Faker-37.1.0, cov-6.2.1, mock-3.14.1, benchmark-5.1.0\nasyncio: mode=auto, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 254 items\n\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_initialization_success FAILED [  0%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_failure_handling FAILED [  0%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_retry_logic FAILED [  1%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_supabase_responses FAILED [  1%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_success FAILED [  1%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_not_found FAILED [  2%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_all_workflows FAILED [  2%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_all_workflows_with_pagination FAILED [  3%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_state_success FAILED [  3%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_state_failure FAILED [  3%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_create_workflow FAILED [  4%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_delete_workflow FAILED [  4%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_success FAILED [  5%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_empty FAILED [  5%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_with_filtering FAILED [  5%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_with_sorting FAILED [  6%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_create_workflow_blocks FAILED [  6%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_blocks FAILED [  7%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_delete_workflow_blocks FAILED [  7%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_data_fallback_workflow_operations FAILED [  7%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_data_consistency PASSED [  8%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_data_structure_validation FAILED [  8%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_graceful_degradation_no_errors PASSED [  9%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_transaction_context_manager FAILED [  9%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_transaction_rollback_on_error FAILED [  9%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_atomic_operations FAILED [ 10%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_concurrent_access_handling FAILED [ 10%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_deadlock_handling FAILED [ 11%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_query_optimization FAILED [ 11%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_batch_operations_performance FAILED [ 11%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_connection_pooling_efficiency FAILED [ 12%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_cache_invalidation FAILED [ 12%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_connection_timeout_handling FAILED [ 12%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_query_failure_recovery FAILED [ 13%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_constraint_violation_handling FAILED [ 13%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_table_not_found_handling FAILED [ 14%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_large_dataset_handling FAILED [ 14%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_sql_injection_prevention FAILED [ 14%]\ntests/unit/test_database_hybrid.py::TestDatabaseService::test_data_validation_before_storage FAILED [ 15%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_successful_ai_state_generation FAILED [ 15%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_edge_inference_linear_workflow FAILED [ 16%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_edge_inference_branching_workflow FAILED [ 16%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_edge_inference_complex_multirow_workflow PASSED [ 16%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_trading_bot FAILED [ 17%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_lead_generation FAILED [ 17%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_multi_agent FAILED [ 18%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_generic FAILED [ 18%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_fallback_state_generation FAILED [ 18%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_missing_blocks FAILED [ 19%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_metadata_generation FAILED [ 19%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_subblocks FAILED [ 20%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_edge_validation_and_enhancement FAILED [ 20%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_missing_workflow FAILED [ 20%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_empty_blocks FAILED [ 21%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_invalid_data FAILED [ 21%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_api_timeout FAILED [ 22%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_concurrent_state_generation FAILED [ 22%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_workflow_complexity_analysis FAILED [ 22%]\ntests/unit/test_state_generator.py::TestStateGenerator::test_state_generation_performance FAILED [ 23%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_valid_state FAILED [ 23%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_blocks FAILED [ 24%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_edges FAILED [ 24%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_metadata FAILED [ 24%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_wrong_field_types FAILED [ 25%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_empty_state FAILED [ 25%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[starter] FAILED [ 25%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[agent] FAILED [ 26%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[api] FAILED [ 26%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[output] FAILED [ 27%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[tool] FAILED [ 27%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[invalid_type] FAILED [ 27%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[unknown] FAILED [ 28%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[custom_block] FAILED [ 28%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[workflow] FAILED [ 29%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[process] FAILED [ 29%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_missing_type_field FAILED [ 29%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_mixed_valid_invalid FAILED [ 30%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_has_starter FAILED [ 30%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_no_starter FAILED [ 31%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_multiple_starters FAILED [ 31%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_configuration_validation FAILED [ 31%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gpt-4] FAILED [ 32%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gpt-3.5-turbo] FAILED [ 32%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[claude-3-5-sonnet] FAILED [ 33%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[claude-3-haiku] FAILED [ 33%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gemini-pro] FAILED [ 33%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[gpt-5] FAILED [ 34%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[claude-4] FAILED [ 34%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[invalid-model] FAILED [ 35%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[custom-ai] FAILED [ 35%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[] FAILED [ 35%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_missing_system_prompt FAILED [ 36%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_missing_model FAILED [ 36%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[0.0] FAILED [ 37%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[0.5] FAILED [ 37%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[1.0] FAILED [ 37%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[1.5] FAILED [ 38%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[2.0] FAILED [ 38%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[-1.0] FAILED [ 38%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[3.0] FAILED [ 39%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[high] FAILED [ 39%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[None] FAILED [ 40%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_valid_config FAILED [ 40%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_missing_url FAILED [ 40%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[not-a-url] FAILED [ 41%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[ftp://invalid.com] FAILED [ 41%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[javascript:alert(1)] FAILED [ 42%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[] FAILED [ 42%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[None] FAILED [ 42%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_missing_method FAILED [ 43%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_headers FAILED [ 43%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_all_connected FAILED [ 44%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_orphaned_blocks FAILED [ 44%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_invalid_references FAILED [ 44%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_circular_dependencies FAILED [ 45%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_self_referencing FAILED [ 45%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_lead_generation FAILED [ 46%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_multi_agent FAILED [ 46%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_trading_bot FAILED [ 46%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_detection_accuracy FAILED [ 47%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-0] FAILED [ 47%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-1000] FAILED [ 48%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-2000] FAILED [ 48%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-0] FAILED [ 48%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-1000] FAILED [ 49%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-2000] FAILED [ 49%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-0] FAILED [ 50%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-1000] FAILED [ 50%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-2000] FAILED [ 50%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-0] FAILED [ 51%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-1000] FAILED [ 51%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-2000] FAILED [ 51%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[-100] FAILED [ 52%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[2100] FAILED [ 52%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[5000] FAILED [ 53%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[-300] FAILED [ 53%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[1100] FAILED [ 53%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[2000] FAILED [ 54%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_negative_positions FAILED [ 54%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_float_vs_integer[float] FAILED [ 55%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_float_vs_integer[string] FAILED [ 55%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_valid_structure FAILED [ 55%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_missing_id_type FAILED [ 56%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_nested_subblocks FAILED [ 56%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_block_specific FAILED [ 57%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_complete_workflow_validation_all_pass FAILED [ 57%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_complete_workflow_validation_multiple_failures FAILED [ 57%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[strict] FAILED [ 58%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[lenient] FAILED [ 58%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[warning_only] FAILED [ 59%]\ntests/unit/test_validation.py::TestWorkflowValidator::test_validation_performance_large_workflow FAILED [ 59%]\ntests/unit/test_templates.py::TestTemplateService::test_all_13_templates_exist FAILED [ 59%]\ntests/unit/test_templates.py::TestTemplateService::test_template_metadata_structure FAILED [ 60%]\ntests/unit/test_templates.py::TestTemplateService::test_template_categories_coverage FAILED [ 60%]\ntests/unit/test_templates.py::TestTemplateService::test_template_structure_validation FAILED [ 61%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[lead_generation] FAILED [ 61%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[trading_bot] FAILED [ 61%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[multi_agent_research] FAILED [ 62%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[customer_support] FAILED [ 62%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[web3_automation] FAILED [ 62%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[data_pipeline] FAILED [ 63%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[content_generation] FAILED [ 63%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[notification_system] FAILED [ 64%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[social_media_automation] FAILED [ 64%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[ecommerce_automation] FAILED [ 64%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[hr_recruitment] FAILED [ 65%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[financial_analysis] FAILED [ 65%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[project_management] FAILED [ 66%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[lead_generation] FAILED [ 66%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[trading_bot] FAILED [ 66%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[multi_agent_research] FAILED [ 67%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[customer_support] FAILED [ 67%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[web3_automation] FAILED [ 68%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[data_pipeline] FAILED [ 68%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[content_generation] FAILED [ 68%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[notification_system] FAILED [ 69%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[social_media_automation] FAILED [ 69%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[ecommerce_automation] FAILED [ 70%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[hr_recruitment] FAILED [ 70%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[financial_analysis] FAILED [ 70%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[project_management] FAILED [ 71%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[lead_generation] FAILED [ 71%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[trading_bot] FAILED [ 72%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[multi_agent_research] FAILED [ 72%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[customer_support] FAILED [ 72%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[web3_automation] FAILED [ 73%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[data_pipeline] FAILED [ 73%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[content_generation] FAILED [ 74%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[notification_system] FAILED [ 74%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[social_media_automation] FAILED [ 74%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[ecommerce_automation] FAILED [ 75%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[hr_recruitment] FAILED [ 75%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[financial_analysis] FAILED [ 75%]\ntests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[project_management] FAILED [ 76%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[lead_generation] FAILED [ 76%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[trading_bot] FAILED [ 77%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[multi_agent_research] FAILED [ 77%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[customer_support] FAILED [ 77%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[web3_automation] FAILED [ 78%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[data_pipeline] FAILED [ 78%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[content_generation] FAILED [ 79%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[notification_system] FAILED [ 79%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[social_media_automation] FAILED [ 79%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[ecommerce_automation] FAILED [ 80%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[hr_recruitment] FAILED [ 80%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[financial_analysis] FAILED [ 81%]\ntests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[project_management] FAILED [ 81%]\ntests/unit/test_templates.py::TestTemplateService::test_trading_bot_customization_parameters FAILED [ 81%]\ntests/unit/test_templates.py::TestTemplateService::test_lead_generation_customization_sources FAILED [ 82%]\ntests/unit/test_templates.py::TestTemplateService::test_social_media_platform_combinations FAILED [ 82%]\ntests/unit/test_templates.py::TestTemplateService::test_multi_agent_research_agent_count FAILED [ 83%]\ntests/unit/test_templates.py::TestTemplateService::test_template_specific_parameter_validation FAILED [ 83%]\ntests/unit/test_templates.py::TestTemplateService::test_block_types_per_template FAILED [ 83%]\ntests/unit/test_templates.py::TestTemplateService::test_block_positioning_logic FAILED [ 84%]\ntests/unit/test_templates.py::TestTemplateService::test_block_configuration_validity FAILED [ 84%]\ntests/unit/test_templates.py::TestTemplateService::test_subblocks_configuration FAILED [ 85%]\ntests/unit/test_templates.py::TestTemplateService::test_template_workflow_connections FAILED [ 85%]\ntests/unit/test_templates.py::TestTemplateService::test_invalid_template_name FAILED [ 85%]\ntests/unit/test_templates.py::TestTemplateService::test_empty_customization_handling FAILED [ 86%]\ntests/unit/test_templates.py::TestTemplateService::test_malformed_parameter_handling FAILED [ 86%]\ntests/unit/test_templates.py::TestTemplateService::test_partial_customization_robustness FAILED [ 87%]\ntests/unit/test_templates.py::TestTemplateService::test_extreme_parameter_values FAILED [ 87%]\ntests/unit/test_templates.py::TestTemplateService::test_template_generation_performance FAILED [ 87%]\ntests/unit/test_templates.py::TestTemplateService::test_template_consistency_across_calls FAILED [ 88%]\ntests/unit/test_templates.py::TestTemplateService::test_all_templates_generate_valid_agent_forge_output FAILED [ 88%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_generation_consistency FAILED [ 88%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_uniqueness_different_inputs FAILED [ 89%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_similar_patterns FAILED [ 89%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_hash_collision_handling FAILED [ 90%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_special_characters FAILED [ 90%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_exact_match FAILED [ 90%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_high_similarity FAILED [ 91%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_no_matches FAILED [ 91%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_multiple_matches_ranking FAILED [ 92%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_threshold_filtering FAILED [ 92%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_new_pattern FAILED [ 92%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_update_existing FAILED [ 93%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_usage_count_increment FAILED [ 93%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_timestamp_updates FAILED [ 94%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_minor_changes FAILED [ 94%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_major_changes FAILED [ 94%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_similarity_thresholds FAILED [ 95%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_performance_tracking FAILED [ 95%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_creation FAILED [ 96%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_update_with_results FAILED [ 96%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_cleanup_old_records FAILED [ 96%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_session_management FAILED [ 97%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_openai_embeddings FAILED [ 97%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_vector_similarity FAILED [ 98%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_natural_language_queries FAILED [ 98%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_ranking_accuracy FAILED [ 98%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_service_performance_benchmarks FAILED [ 99%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_hybrid_search_integration FAILED [ 99%]\ntests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_statistics_tracking FAILED [100%]\n\n=================================== FAILURES ===================================\n_____ TestDatabaseService.test_supabase_connection_initialization_success ______\ntests/unit/test_database_hybrid.py:46: in test_supabase_connection_initialization_success\n    await db_service.initialize()\nE   AttributeError: 'DatabaseService' object has no attribute 'initialize'\n________ TestDatabaseService.test_supabase_connection_failure_handling _________\ntests/unit/test_database_hybrid.py:65: in test_supabase_connection_failure_handling\n    await db_service.initialize()\nE   AttributeError: 'DatabaseService' object has no attribute 'initialize'\n________________ TestDatabaseService.test_supabase_retry_logic _________________\ntests/unit/test_database_hybrid.py:85: in test_supabase_retry_logic\n    await db_service.initialize()\nE   AttributeError: 'DatabaseService' object has no attribute 'initialize'\n_______________ TestDatabaseService.test_mock_supabase_responses _______________\ntests/unit/test_database_hybrid.py:98: in test_mock_supabase_responses\n    with patch.object(self.db_service, 'supabase_client') as mock_client:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1fa0> does not have the attribute 'supabase_client'\n________________ TestDatabaseService.test_get_workflow_success _________________\ntests/unit/test_database_hybrid.py:120: in test_get_workflow_success\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084eaf70> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_get_workflow_not_found ________________\ntests/unit/test_database_hybrid.py:134: in test_get_workflow_not_found\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108703a30> does not have the attribute '_execute_supabase_query'\n__________________ TestDatabaseService.test_get_all_workflows __________________\ntests/unit/test_database_hybrid.py:147: in test_get_all_workflows\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1580> does not have the attribute '_execute_supabase_query'\n__________ TestDatabaseService.test_get_all_workflows_with_pagination __________\ntests/unit/test_database_hybrid.py:161: in test_get_all_workflows_with_pagination\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1087068e0> does not have the attribute '_execute_supabase_query'\n____________ TestDatabaseService.test_update_workflow_state_success ____________\ntests/unit/test_database_hybrid.py:176: in test_update_workflow_state_success\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1160> does not have the attribute '_execute_supabase_query'\n____________ TestDatabaseService.test_update_workflow_state_failure ____________\ntests/unit/test_database_hybrid.py:191: in test_update_workflow_state_failure\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107e5c580> does not have the attribute '_execute_supabase_query'\n___________________ TestDatabaseService.test_create_workflow ___________________\ntests/unit/test_database_hybrid.py:210: in test_create_workflow\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108482160> does not have the attribute '_execute_supabase_query'\n___________________ TestDatabaseService.test_delete_workflow ___________________\ntests/unit/test_database_hybrid.py:224: in test_delete_workflow\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107968a00> does not have the attribute '_execute_supabase_query'\n_____________ TestDatabaseService.test_get_workflow_blocks_success _____________\ntests/unit/test_database_hybrid.py:243: in test_get_workflow_blocks_success\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d9fd0> does not have the attribute '_execute_supabase_query'\n______________ TestDatabaseService.test_get_workflow_blocks_empty ______________\ntests/unit/test_database_hybrid.py:257: in test_get_workflow_blocks_empty\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084db130> does not have the attribute '_execute_supabase_query'\n_________ TestDatabaseService.test_get_workflow_blocks_with_filtering __________\ntests/unit/test_database_hybrid.py:274: in test_get_workflow_blocks_with_filtering\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10870c700> does not have the attribute '_execute_supabase_query'\n__________ TestDatabaseService.test_get_workflow_blocks_with_sorting ___________\ntests/unit/test_database_hybrid.py:290: in test_get_workflow_blocks_with_sorting\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107e5c340> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_create_workflow_blocks ________________\ntests/unit/test_database_hybrid.py:324: in test_create_workflow_blocks\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851d910> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_update_workflow_blocks ________________\ntests/unit/test_database_hybrid.py:344: in test_update_workflow_blocks\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1074f3be0> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_delete_workflow_blocks ________________\ntests/unit/test_database_hybrid.py:357: in test_delete_workflow_blocks\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108451bb0> does not have the attribute '_execute_supabase_query'\n_______ TestDatabaseService.test_mock_data_fallback_workflow_operations ________\ntests/unit/test_database_hybrid.py:381: in test_mock_data_fallback_workflow_operations\n    assert result is not None\nE   assert None is not None\n___________ TestDatabaseService.test_mock_data_structure_validation ____________\ntests/unit/test_database_hybrid.py:410: in test_mock_data_structure_validation\n    assert key in workflow, f\"Missing key: {key}\"\nE   TypeError: argument of type 'NoneType' is not iterable\n_____________ TestDatabaseService.test_transaction_context_manager _____________\ntests/unit/test_database_hybrid.py:448: in test_transaction_context_manager\n    with patch.object(self.db_service, 'supabase_client') as mock_client:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108457be0> does not have the attribute 'supabase_client'\n____________ TestDatabaseService.test_transaction_rollback_on_error ____________\ntests/unit/test_database_hybrid.py:464: in test_transaction_rollback_on_error\n    with patch.object(self.db_service, 'supabase_client') as mock_client:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10861c160> does not have the attribute 'supabase_client'\n__________________ TestDatabaseService.test_atomic_operations __________________\ntests/unit/test_database_hybrid.py:488: in test_atomic_operations\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851e0a0> does not have the attribute '_execute_supabase_query'\n_____________ TestDatabaseService.test_concurrent_access_handling ______________\ntests/unit/test_database_hybrid.py:508: in test_concurrent_access_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aa190> does not have the attribute '_execute_supabase_query'\n__________________ TestDatabaseService.test_deadlock_handling __________________\ntests/unit/test_database_hybrid.py:530: in test_deadlock_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10861c3a0> does not have the attribute '_execute_supabase_query'\n_________________ TestDatabaseService.test_query_optimization __________________\ntests/unit/test_database_hybrid.py:552: in test_query_optimization\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084e5460> does not have the attribute '_execute_supabase_query'\n____________ TestDatabaseService.test_batch_operations_performance _____________\ntests/unit/test_database_hybrid.py:577: in test_batch_operations_performance\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851ee20> does not have the attribute '_execute_supabase_query'\n____________ TestDatabaseService.test_connection_pooling_efficiency ____________\ntests/unit/test_database_hybrid.py:613: in test_connection_pooling_efficiency\n    await service.initialize()\nE   AttributeError: 'DatabaseService' object has no attribute 'initialize'\n_________________ TestDatabaseService.test_cache_invalidation __________________\ntests/unit/test_database_hybrid.py:631: in test_cache_invalidation\n    with patch.object(self.db_service, '_cached_query', side_effect=mock_cached_query):\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1086891c0> does not have the attribute '_cached_query'\n_____________ TestDatabaseService.test_connection_timeout_handling _____________\ntests/unit/test_database_hybrid.py:650: in test_connection_timeout_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084ea9d0> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_query_failure_recovery ________________\ntests/unit/test_database_hybrid.py:663: in test_query_failure_recovery\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108689610> does not have the attribute '_execute_supabase_query'\n____________ TestDatabaseService.test_constraint_violation_handling ____________\ntests/unit/test_database_hybrid.py:682: in test_constraint_violation_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aaa30> does not have the attribute '_execute_supabase_query'\n______________ TestDatabaseService.test_table_not_found_handling _______________\ntests/unit/test_database_hybrid.py:695: in test_table_not_found_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108693be0> does not have the attribute '_execute_supabase_query'\n_______________ TestDatabaseService.test_large_dataset_handling ________________\ntests/unit/test_database_hybrid.py:713: in test_large_dataset_handling\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10870cb20> does not have the attribute '_execute_supabase_query'\n______________ TestDatabaseService.test_sql_injection_prevention _______________\ntests/unit/test_database_hybrid.py:734: in test_sql_injection_prevention\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aa2b0> does not have the attribute '_execute_supabase_query'\n___________ TestDatabaseService.test_data_validation_before_storage ____________\ntests/unit/test_database_hybrid.py:756: in test_data_validation_before_storage\n    with patch.object(self.db_service, '_execute_supabase_query') as mock_query:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108703670> does not have the attribute '_execute_supabase_query'\n____________ TestStateGenerator.test_successful_ai_state_generation ____________\ntests/unit/test_state_generator.py:63: in test_successful_ai_state_generation\n    result = await self.generator.generate_state(workflow_id)\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n____________ TestStateGenerator.test_edge_inference_linear_workflow ____________\ntests/unit/test_state_generator.py:149: in test_edge_inference_linear_workflow\n    assert {\"from\": \"starter-1\", \"to\": \"agent-1\"} in edges\nE   AssertionError: assert {'from': 'starter-1', 'to': 'agent-1'} in [{'from': 'starter-1', 'to': 'agent-1', 'type': 'default'}, {'from': 'agent-1', 'to': 'output-1', 'type': 'default'}]\n__________ TestStateGenerator.test_edge_inference_branching_workflow ___________\ntests/unit/test_state_generator.py:200: in test_edge_inference_branching_workflow\n    assert {\"from\": \"starter-1\", \"to\": \"agent-1\"} in edges\nE   AssertionError: assert {'from': 'starter-1', 'to': 'agent-1'} in [{'from': 'agent-1', 'to': 'starter-1', 'type': 'default'}, {'from': 'starter-1', 'to': 'output-1', 'type': 'default'}, {'from': 'output-1', 'to': 'agent-2', 'type': 'default'}]\n_______ TestStateGenerator.test_workflow_type_determination_trading_bot ________\ntests/unit/test_state_generator.py:252: in test_workflow_type_determination_trading_bot\n    workflow_type = self.generator._determine_workflow_type(trading_blocks)\nE   TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\n_____ TestStateGenerator.test_workflow_type_determination_lead_generation ______\ntests/unit/test_state_generator.py:274: in test_workflow_type_determination_lead_generation\n    workflow_type = self.generator._determine_workflow_type(lead_gen_blocks)\nE   TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\n_______ TestStateGenerator.test_workflow_type_determination_multi_agent ________\ntests/unit/test_state_generator.py:294: in test_workflow_type_determination_multi_agent\n    workflow_type = self.generator._determine_workflow_type(multi_agent_blocks)\nE   TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\n_________ TestStateGenerator.test_workflow_type_determination_generic __________\ntests/unit/test_state_generator.py:312: in test_workflow_type_determination_generic\n    workflow_type = self.generator._determine_workflow_type(generic_blocks)\nE   TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\n______________ TestStateGenerator.test_fallback_state_generation _______________\ntests/unit/test_state_generator.py:341: in test_fallback_state_generation\n    result = await self.generator.generate_state(workflow_id)\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n___________ TestStateGenerator.test_state_enhancement_missing_blocks ___________\ntests/unit/test_state_generator.py:387: in test_state_enhancement_missing_blocks\n    enhanced_state = self.generator._enhance_state_with_missing_blocks(\nE   AttributeError: 'StateGenerator' object has no attribute '_enhance_state_with_missing_blocks'\n________ TestStateGenerator.test_state_enhancement_metadata_generation _________\ntests/unit/test_state_generator.py:412: in test_state_enhancement_metadata_generation\n    enhanced_state = self.generator._enhance_state_metadata(\nE   AttributeError: 'StateGenerator' object has no attribute '_enhance_state_metadata'\n_____________ TestStateGenerator.test_state_enhancement_subblocks ______________\ntests/unit/test_state_generator.py:444: in test_state_enhancement_subblocks\n    enhanced_state = self.generator._enhance_subblocks(basic_state)\nE   AttributeError: 'StateGenerator' object has no attribute '_enhance_subblocks'\n___________ TestStateGenerator.test_edge_validation_and_enhancement ____________\ntests/unit/test_state_generator.py:472: in test_edge_validation_and_enhancement\n    enhanced_state = self.generator._validate_and_fix_edges(state_with_invalid_edges)\nE   AttributeError: 'StateGenerator' object has no attribute '_validate_and_fix_edges'\n___________ TestStateGenerator.test_error_handling_missing_workflow ____________\ntests/unit/test_state_generator.py:491: in test_error_handling_missing_workflow\n    await self.generator.generate_state(\"nonexistent-workflow\")\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n_____________ TestStateGenerator.test_error_handling_empty_blocks ______________\ntests/unit/test_state_generator.py:506: in test_error_handling_empty_blocks\n    await self.generator.generate_state(\"workflow-with-no-blocks\")\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n_____________ TestStateGenerator.test_error_handling_invalid_data ______________\ntests/unit/test_state_generator.py:521: in test_error_handling_invalid_data\n    await self.generator.generate_state(\"invalid-workflow\")\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n______________ TestStateGenerator.test_error_handling_api_timeout ______________\ntests/unit/test_state_generator.py:542: in test_error_handling_api_timeout\n    result = await self.generator.generate_state(workflow_id)\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n_____________ TestStateGenerator.test_concurrent_state_generation ______________\ntests/unit/test_state_generator.py:573: in test_concurrent_state_generation\n    tasks = [\ntests/unit/test_state_generator.py:574: in <listcomp>\n    self.generator.generate_state(workflow_id)\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n_____________ TestStateGenerator.test_workflow_complexity_analysis _____________\ntests/unit/test_state_generator.py:595: in test_workflow_complexity_analysis\n    simple_complexity = self.generator._analyze_workflow_complexity(simple_blocks)\nE   AttributeError: 'StateGenerator' object has no attribute '_analyze_workflow_complexity'\n_____________ TestStateGenerator.test_state_generation_performance _____________\ntests/unit/test_state_generator.py:633: in test_state_generation_performance\n    result = await self.generator.generate_state(workflow_id)\nE   AttributeError: 'StateGenerator' object has no attribute 'generate_state'\n___________ TestWorkflowValidator.test_schema_validation_valid_state ___________\ntests/unit/test_validation.py:53: in test_schema_validation_valid_state\n    result = self.validator.validate_schema(valid_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n_________ TestWorkflowValidator.test_schema_validation_missing_blocks __________\ntests/unit/test_validation.py:68: in test_schema_validation_missing_blocks\n    result = self.validator.validate_schema(invalid_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n__________ TestWorkflowValidator.test_schema_validation_missing_edges __________\ntests/unit/test_validation.py:83: in test_schema_validation_missing_edges\n    result = self.validator.validate_schema(invalid_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n________ TestWorkflowValidator.test_schema_validation_missing_metadata _________\ntests/unit/test_validation.py:98: in test_schema_validation_missing_metadata\n    result = self.validator.validate_schema(invalid_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n________ TestWorkflowValidator.test_schema_validation_wrong_field_types ________\ntests/unit/test_validation.py:113: in test_schema_validation_wrong_field_types\n    result = self.validator.validate_schema(invalid_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n___________ TestWorkflowValidator.test_schema_validation_empty_state ___________\ntests/unit/test_validation.py:124: in test_schema_validation_empty_state\n    result = self.validator.validate_schema(empty_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\n____ TestWorkflowValidator.test_block_type_validation_valid_types[starter] _____\ntests/unit/test_validation.py:155: in test_block_type_validation_valid_types\n    result = self.validator.validate_block_types(state_with_valid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_____ TestWorkflowValidator.test_block_type_validation_valid_types[agent] ______\ntests/unit/test_validation.py:155: in test_block_type_validation_valid_types\n    result = self.validator.validate_block_types(state_with_valid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n______ TestWorkflowValidator.test_block_type_validation_valid_types[api] _______\ntests/unit/test_validation.py:155: in test_block_type_validation_valid_types\n    result = self.validator.validate_block_types(state_with_valid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_____ TestWorkflowValidator.test_block_type_validation_valid_types[output] _____\ntests/unit/test_validation.py:155: in test_block_type_validation_valid_types\n    result = self.validator.validate_block_types(state_with_valid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n______ TestWorkflowValidator.test_block_type_validation_valid_types[tool] ______\ntests/unit/test_validation.py:155: in test_block_type_validation_valid_types\n    result = self.validator.validate_block_types(state_with_valid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_ TestWorkflowValidator.test_block_type_validation_invalid_types[invalid_type] _\ntests/unit/test_validation.py:182: in test_block_type_validation_invalid_types\n    result = self.validator.validate_block_types(state_with_invalid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n___ TestWorkflowValidator.test_block_type_validation_invalid_types[unknown] ____\ntests/unit/test_validation.py:182: in test_block_type_validation_invalid_types\n    result = self.validator.validate_block_types(state_with_invalid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_ TestWorkflowValidator.test_block_type_validation_invalid_types[custom_block] _\ntests/unit/test_validation.py:182: in test_block_type_validation_invalid_types\n    result = self.validator.validate_block_types(state_with_invalid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n___ TestWorkflowValidator.test_block_type_validation_invalid_types[workflow] ___\ntests/unit/test_validation.py:182: in test_block_type_validation_invalid_types\n    result = self.validator.validate_block_types(state_with_invalid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n___ TestWorkflowValidator.test_block_type_validation_invalid_types[process] ____\ntests/unit/test_validation.py:182: in test_block_type_validation_invalid_types\n    result = self.validator.validate_block_types(state_with_invalid_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_____ TestWorkflowValidator.test_block_type_validation_missing_type_field ______\ntests/unit/test_validation.py:205: in test_block_type_validation_missing_type_field\n    result = self.validator.validate_block_types(state_missing_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_____ TestWorkflowValidator.test_block_type_validation_mixed_valid_invalid _____\ntests/unit/test_validation.py:236: in test_block_type_validation_mixed_valid_invalid\n    result = self.validator.validate_block_types(mixed_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\n_______ TestWorkflowValidator.test_starter_block_validation_has_starter ________\ntests/unit/test_validation.py:273: in test_starter_block_validation_has_starter\n    result = self.validator.validate_starter_block(state_with_starter)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\n________ TestWorkflowValidator.test_starter_block_validation_no_starter ________\ntests/unit/test_validation.py:305: in test_starter_block_validation_no_starter\n    result = self.validator.validate_starter_block(state_without_starter)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\n____ TestWorkflowValidator.test_starter_block_validation_multiple_starters _____\ntests/unit/test_validation.py:331: in test_starter_block_validation_multiple_starters\n    result = self.validator.validate_starter_block(state_multiple_starters)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\n______ TestWorkflowValidator.test_starter_block_configuration_validation _______\ntests/unit/test_validation.py:361: in test_starter_block_configuration_validation\n    result = self.validator.validate_starter_block(state_starter_config)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\n____ TestWorkflowValidator.test_agent_config_validation_valid_models[gpt-4] ____\ntests/unit/test_validation.py:395: in test_agent_config_validation_valid_models\n    result = self.validator.validate_agent_config(state_valid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_valid_models[gpt-3.5-turbo] _\ntests/unit/test_validation.py:395: in test_agent_config_validation_valid_models\n    result = self.validator.validate_agent_config(state_valid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_valid_models[claude-3-5-sonnet] _\ntests/unit/test_validation.py:395: in test_agent_config_validation_valid_models\n    result = self.validator.validate_agent_config(state_valid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_valid_models[claude-3-haiku] _\ntests/unit/test_validation.py:395: in test_agent_config_validation_valid_models\n    result = self.validator.validate_agent_config(state_valid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_valid_models[gemini-pro] __\ntests/unit/test_validation.py:395: in test_agent_config_validation_valid_models\n    result = self.validator.validate_agent_config(state_valid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n___ TestWorkflowValidator.test_agent_config_validation_invalid_models[gpt-5] ___\ntests/unit/test_validation.py:423: in test_agent_config_validation_invalid_models\n    result = self.validator.validate_agent_config(state_invalid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_invalid_models[claude-4] __\ntests/unit/test_validation.py:423: in test_agent_config_validation_invalid_models\n    result = self.validator.validate_agent_config(state_invalid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_invalid_models[invalid-model] _\ntests/unit/test_validation.py:423: in test_agent_config_validation_invalid_models\n    result = self.validator.validate_agent_config(state_invalid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_invalid_models[custom-ai] _\ntests/unit/test_validation.py:423: in test_agent_config_validation_invalid_models\n    result = self.validator.validate_agent_config(state_invalid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_____ TestWorkflowValidator.test_agent_config_validation_invalid_models[] ______\ntests/unit/test_validation.py:423: in test_agent_config_validation_invalid_models\n    result = self.validator.validate_agent_config(state_invalid_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n___ TestWorkflowValidator.test_agent_config_validation_missing_system_prompt ___\ntests/unit/test_validation.py:448: in test_agent_config_validation_missing_system_prompt\n    result = self.validator.validate_agent_config(state_missing_prompt)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_______ TestWorkflowValidator.test_agent_config_validation_missing_model _______\ntests/unit/test_validation.py:473: in test_agent_config_validation_missing_model\n    result = self.validator.validate_agent_config(state_missing_model)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n__ TestWorkflowValidator.test_agent_config_validation_temperature_valid[0.0] ___\ntests/unit/test_validation.py:500: in test_agent_config_validation_temperature_valid\n    result = self.validator.validate_agent_config(state_valid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n__ TestWorkflowValidator.test_agent_config_validation_temperature_valid[0.5] ___\ntests/unit/test_validation.py:500: in test_agent_config_validation_temperature_valid\n    result = self.validator.validate_agent_config(state_valid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n__ TestWorkflowValidator.test_agent_config_validation_temperature_valid[1.0] ___\ntests/unit/test_validation.py:500: in test_agent_config_validation_temperature_valid\n    result = self.validator.validate_agent_config(state_valid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n__ TestWorkflowValidator.test_agent_config_validation_temperature_valid[1.5] ___\ntests/unit/test_validation.py:500: in test_agent_config_validation_temperature_valid\n    result = self.validator.validate_agent_config(state_valid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n__ TestWorkflowValidator.test_agent_config_validation_temperature_valid[2.0] ___\ntests/unit/test_validation.py:500: in test_agent_config_validation_temperature_valid\n    result = self.validator.validate_agent_config(state_valid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_temperature_invalid[-1.0] _\ntests/unit/test_validation.py:526: in test_agent_config_validation_temperature_invalid\n    result = self.validator.validate_agent_config(state_invalid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_temperature_invalid[3.0] __\ntests/unit/test_validation.py:526: in test_agent_config_validation_temperature_invalid\n    result = self.validator.validate_agent_config(state_invalid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_temperature_invalid[high] _\ntests/unit/test_validation.py:526: in test_agent_config_validation_temperature_invalid\n    result = self.validator.validate_agent_config(state_invalid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n_ TestWorkflowValidator.test_agent_config_validation_temperature_invalid[None] _\ntests/unit/test_validation.py:526: in test_agent_config_validation_temperature_invalid\n    result = self.validator.validate_agent_config(state_invalid_temp)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\n______ TestWorkflowValidator.test_api_integration_validation_valid_config ______\ntests/unit/test_validation.py:562: in test_api_integration_validation_valid_config\n    result = self.validator.validate_api_integration(state_valid_api)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n______ TestWorkflowValidator.test_api_integration_validation_missing_url _______\ntests/unit/test_validation.py:587: in test_api_integration_validation_missing_url\n    result = self.validator.validate_api_integration(state_missing_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n_ TestWorkflowValidator.test_api_integration_validation_invalid_url_format[not-a-url] _\ntests/unit/test_validation.py:615: in test_api_integration_validation_invalid_url_format\n    result = self.validator.validate_api_integration(state_invalid_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n_ TestWorkflowValidator.test_api_integration_validation_invalid_url_format[ftp://invalid.com] _\ntests/unit/test_validation.py:615: in test_api_integration_validation_invalid_url_format\n    result = self.validator.validate_api_integration(state_invalid_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n_ TestWorkflowValidator.test_api_integration_validation_invalid_url_format[javascript:alert(1)] _\ntests/unit/test_validation.py:615: in test_api_integration_validation_invalid_url_format\n    result = self.validator.validate_api_integration(state_invalid_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n__ TestWorkflowValidator.test_api_integration_validation_invalid_url_format[] __\ntests/unit/test_validation.py:615: in test_api_integration_validation_invalid_url_format\n    result = self.validator.validate_api_integration(state_invalid_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n_ TestWorkflowValidator.test_api_integration_validation_invalid_url_format[None] _\ntests/unit/test_validation.py:615: in test_api_integration_validation_invalid_url_format\n    result = self.validator.validate_api_integration(state_invalid_url)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n_____ TestWorkflowValidator.test_api_integration_validation_missing_method _____\ntests/unit/test_validation.py:641: in test_api_integration_validation_missing_method\n    result = self.validator.validate_api_integration(state_missing_method)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n________ TestWorkflowValidator.test_api_integration_validation_headers _________\ntests/unit/test_validation.py:672: in test_api_integration_validation_headers\n    result = self.validator.validate_api_integration(state_valid_headers)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\n____ TestWorkflowValidator.test_edge_connectivity_validation_all_connected _____\ntests/unit/test_validation.py:696: in test_edge_connectivity_validation_all_connected\n    result = self.validator.validate_edge_connectivity(state_all_connected)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\n___ TestWorkflowValidator.test_edge_connectivity_validation_orphaned_blocks ____\ntests/unit/test_validation.py:720: in test_edge_connectivity_validation_orphaned_blocks\n    result = self.validator.validate_edge_connectivity(state_orphaned)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\n__ TestWorkflowValidator.test_edge_connectivity_validation_invalid_references __\ntests/unit/test_validation.py:742: in test_edge_connectivity_validation_invalid_references\n    result = self.validator.validate_edge_connectivity(state_invalid_refs)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\n_ TestWorkflowValidator.test_edge_connectivity_validation_circular_dependencies _\ntests/unit/test_validation.py:765: in test_edge_connectivity_validation_circular_dependencies\n    result = self.validator.validate_edge_connectivity(state_circular)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\n___ TestWorkflowValidator.test_edge_connectivity_validation_self_referencing ___\ntests/unit/test_validation.py:785: in test_edge_connectivity_validation_self_referencing\n    result = self.validator.validate_edge_connectivity(state_self_ref)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\n____ TestWorkflowValidator.test_workflow_pattern_validation_lead_generation ____\ntests/unit/test_validation.py:814: in test_workflow_pattern_validation_lead_generation\n    result = self.validator.validate_workflow_pattern(lead_gen_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\n______ TestWorkflowValidator.test_workflow_pattern_validation_multi_agent ______\ntests/unit/test_validation.py:839: in test_workflow_pattern_validation_multi_agent\n    result = self.validator.validate_workflow_pattern(multi_agent_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\n______ TestWorkflowValidator.test_workflow_pattern_validation_trading_bot ______\ntests/unit/test_validation.py:862: in test_workflow_pattern_validation_trading_bot\n    result = self.validator.validate_workflow_pattern(trading_bot_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\n__ TestWorkflowValidator.test_workflow_pattern_validation_detection_accuracy ___\ntests/unit/test_validation.py:888: in test_workflow_pattern_validation_detection_accuracy\n    detected_pattern = self.validator._detect_workflow_pattern(test_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute '_detect_workflow_pattern'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[-200-0] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[-200-1000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[-200-2000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n__ TestWorkflowValidator.test_position_bounds_validation_valid_positions[0-0] __\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[0-1000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[0-2000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[500-0] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[500-1000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[500-2000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[1000-0] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[1000-1000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_valid_positions[1000-2000] _\ntests/unit/test_validation.py:918: in test_position_bounds_validation_valid_positions\n    result = self.validator.validate_position_bounds(state_valid_pos)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_x_positions[-100] _\ntests/unit/test_validation.py:937: in test_position_bounds_validation_invalid_x_positions\n    result = self.validator.validate_position_bounds(state_invalid_x)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_x_positions[2100] _\ntests/unit/test_validation.py:937: in test_position_bounds_validation_invalid_x_positions\n    result = self.validator.validate_position_bounds(state_invalid_x)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_x_positions[5000] _\ntests/unit/test_validation.py:937: in test_position_bounds_validation_invalid_x_positions\n    result = self.validator.validate_position_bounds(state_invalid_x)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_y_positions[-300] _\ntests/unit/test_validation.py:957: in test_position_bounds_validation_invalid_y_positions\n    result = self.validator.validate_position_bounds(state_invalid_y)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_y_positions[1100] _\ntests/unit/test_validation.py:957: in test_position_bounds_validation_invalid_y_positions\n    result = self.validator.validate_position_bounds(state_invalid_y)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_invalid_y_positions[2000] _\ntests/unit/test_validation.py:957: in test_position_bounds_validation_invalid_y_positions\n    result = self.validator.validate_position_bounds(state_invalid_y)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n___ TestWorkflowValidator.test_position_bounds_validation_negative_positions ___\ntests/unit/test_validation.py:975: in test_position_bounds_validation_negative_positions\n    result = self.validator.validate_position_bounds(state_negative)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_float_vs_integer[float] _\ntests/unit/test_validation.py:998: in test_position_bounds_validation_float_vs_integer\n    result = self.validator.validate_position_bounds(state_position_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n_ TestWorkflowValidator.test_position_bounds_validation_float_vs_integer[string] _\ntests/unit/test_validation.py:998: in test_position_bounds_validation_float_vs_integer\n    result = self.validator.validate_position_bounds(state_position_type)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\n___ TestWorkflowValidator.test_subblock_structure_validation_valid_structure ___\ntests/unit/test_validation.py:1039: in test_subblock_structure_validation_valid_structure\n    result = self.validator.validate_subblock_structure(state_valid_subblocks)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\n___ TestWorkflowValidator.test_subblock_structure_validation_missing_id_type ___\ntests/unit/test_validation.py:1062: in test_subblock_structure_validation_missing_id_type\n    result = self.validator.validate_subblock_structure(state_missing_fields)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\n__ TestWorkflowValidator.test_subblock_structure_validation_nested_subblocks ___\ntests/unit/test_validation.py:1094: in test_subblock_structure_validation_nested_subblocks\n    result = self.validator.validate_subblock_structure(state_nested)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\n___ TestWorkflowValidator.test_subblock_structure_validation_block_specific ____\ntests/unit/test_validation.py:1118: in test_subblock_structure_validation_block_specific\n    result = self.validator.validate_subblock_structure(agent_specific_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\n_______ TestWorkflowValidator.test_complete_workflow_validation_all_pass _______\ntests/unit/test_validation.py:1185: in test_complete_workflow_validation_all_pass\n    result = self.validator.validate_workflow_state(perfect_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n__ TestWorkflowValidator.test_complete_workflow_validation_multiple_failures ___\ntests/unit/test_validation.py:1204: in test_complete_workflow_validation_multiple_failures\n    result = self.validator.validate_workflow_state(flawed_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n______ TestWorkflowValidator.test_validation_levels_and_severity[strict] _______\ntests/unit/test_validation.py:1231: in test_validation_levels_and_severity\n    result = self.validator.validate_workflow_state(\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n______ TestWorkflowValidator.test_validation_levels_and_severity[lenient] ______\ntests/unit/test_validation.py:1231: in test_validation_levels_and_severity\n    result = self.validator.validate_workflow_state(\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n___ TestWorkflowValidator.test_validation_levels_and_severity[warning_only] ____\ntests/unit/test_validation.py:1231: in test_validation_levels_and_severity\n    result = self.validator.validate_workflow_state(\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n_______ TestWorkflowValidator.test_validation_performance_large_workflow _______\ntests/unit/test_validation.py:1272: in test_validation_performance_large_workflow\n    result = self.validator.validate_workflow_state(large_state)\nE   AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\n_______________ TestTemplateService.test_all_13_templates_exist ________________\ntests/unit/test_templates.py:41: in test_all_13_templates_exist\n    available_templates = self.template_service.get_available_templates()\nE   AttributeError: 'TemplateService' object has no attribute 'get_available_templates'\n_____________ TestTemplateService.test_template_metadata_structure _____________\ntests/unit/test_templates.py:52: in test_template_metadata_structure\n    templates = self.template_service.get_templates_with_metadata()\nE   AttributeError: 'TemplateService' object has no attribute 'get_templates_with_metadata'\n____________ TestTemplateService.test_template_categories_coverage _____________\ntests/unit/test_templates.py:78: in test_template_categories_coverage\n    templates_metadata = self.template_service.get_templates_with_metadata()\nE   AttributeError: 'TemplateService' object has no attribute 'get_templates_with_metadata'\n____________ TestTemplateService.test_template_structure_validation ____________\ntests/unit/test_templates.py:90: in test_template_structure_validation\n    templates = self.template_service.get_available_templates()\nE   AttributeError: 'TemplateService' object has no attribute 'get_available_templates'\n_ TestTemplateService.test_template_generation_with_defaults[lead_generation] __\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___ TestTemplateService.test_template_generation_with_defaults[trading_bot] ____\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[multi_agent_research] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[customer_support] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[web3_automation] __\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__ TestTemplateService.test_template_generation_with_defaults[data_pipeline] ___\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[content_generation] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[notification_system] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[social_media_automation] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[ecommerce_automation] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__ TestTemplateService.test_template_generation_with_defaults[hr_recruitment] __\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[financial_analysis] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_defaults[project_management] _\ntests/unit/test_templates.py:122: in test_template_generation_with_defaults\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[lead_generation] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[trading_bot] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[multi_agent_research] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[customer_support] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[web3_automation] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[data_pipeline] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[content_generation] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[notification_system] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[social_media_automation] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[ecommerce_automation] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[hr_recruitment] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[financial_analysis] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_generation_with_custom_params[project_management] _\ntests/unit/test_templates.py:174: in test_template_generation_with_custom_params\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[lead_generation] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__ TestTemplateService.test_template_block_structure_compliance[trading_bot] ___\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[multi_agent_research] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[customer_support] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[web3_automation] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[data_pipeline] __\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[content_generation] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[notification_system] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[social_media_automation] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[ecommerce_automation] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[hr_recruitment] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[financial_analysis] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_block_structure_compliance[project_management] _\ntests/unit/test_templates.py:194: in test_template_block_structure_compliance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_____ TestTemplateService.test_template_edge_connections[lead_generation] ______\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_______ TestTemplateService.test_template_edge_connections[trading_bot] ________\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___ TestTemplateService.test_template_edge_connections[multi_agent_research] ___\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_____ TestTemplateService.test_template_edge_connections[customer_support] _____\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_____ TestTemplateService.test_template_edge_connections[web3_automation] ______\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n______ TestTemplateService.test_template_edge_connections[data_pipeline] _______\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____ TestTemplateService.test_template_edge_connections[content_generation] ____\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___ TestTemplateService.test_template_edge_connections[notification_system] ____\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_ TestTemplateService.test_template_edge_connections[social_media_automation] __\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___ TestTemplateService.test_template_edge_connections[ecommerce_automation] ___\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n______ TestTemplateService.test_template_edge_connections[hr_recruitment] ______\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____ TestTemplateService.test_template_edge_connections[financial_analysis] ____\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____ TestTemplateService.test_template_edge_connections[project_management] ____\ntests/unit/test_templates.py:223: in test_template_edge_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n________ TestTemplateService.test_trading_bot_customization_parameters _________\ntests/unit/test_templates.py:262: in test_trading_bot_customization_parameters\n    result = self.template_service.generate_from_template(\"trading_bot\", params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n________ TestTemplateService.test_lead_generation_customization_sources ________\ntests/unit/test_templates.py:288: in test_lead_generation_customization_sources\n    result = self.template_service.generate_from_template(\"lead_generation\", params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_________ TestTemplateService.test_social_media_platform_combinations __________\ntests/unit/test_templates.py:315: in test_social_media_platform_combinations\n    result = self.template_service.generate_from_template(\"social_media_automation\", params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__________ TestTemplateService.test_multi_agent_research_agent_count ___________\ntests/unit/test_templates.py:337: in test_multi_agent_research_agent_count\n    result = self.template_service.generate_from_template(\"multi_agent_research\", params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_______ TestTemplateService.test_template_specific_parameter_validation ________\ntests/unit/test_templates.py:360: in test_template_specific_parameter_validation\n    result = self.template_service.generate_from_template(template_name, invalid_params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n______________ TestTemplateService.test_block_types_per_template _______________\ntests/unit/test_templates.py:383: in test_block_types_per_template\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_______________ TestTemplateService.test_block_positioning_logic _______________\ntests/unit/test_templates.py:397: in test_block_positioning_logic\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____________ TestTemplateService.test_block_configuration_validity _____________\ntests/unit/test_templates.py:420: in test_block_configuration_validity\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_______________ TestTemplateService.test_subblocks_configuration _______________\ntests/unit/test_templates.py:446: in test_subblocks_configuration\n    result = self.template_service.generate_from_template(\"trading_bot\")\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____________ TestTemplateService.test_template_workflow_connections ____________\ntests/unit/test_templates.py:466: in test_template_workflow_connections\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n________________ TestTemplateService.test_invalid_template_name ________________\ntests/unit/test_templates.py:504: in test_invalid_template_name\n    self.template_service.generate_from_template(invalid_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____________ TestTemplateService.test_empty_customization_handling _____________\ntests/unit/test_templates.py:515: in test_empty_customization_handling\n    result = self.template_service.generate_from_template(\"trading_bot\", empty_param)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n____________ TestTemplateService.test_malformed_parameter_handling _____________\ntests/unit/test_templates.py:538: in test_malformed_parameter_handling\n    result = self.template_service.generate_from_template(\"trading_bot\", params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__________ TestTemplateService.test_partial_customization_robustness ___________\ntests/unit/test_templates.py:561: in test_partial_customization_robustness\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n______________ TestTemplateService.test_extreme_parameter_values _______________\ntests/unit/test_templates.py:581: in test_extreme_parameter_values\n    result = self.template_service.generate_from_template(template_name, extreme_params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___________ TestTemplateService.test_template_generation_performance ___________\ntests/unit/test_templates.py:597: in test_template_generation_performance\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n__________ TestTemplateService.test_template_consistency_across_calls __________\ntests/unit/test_templates.py:617: in test_template_consistency_across_calls\n    result = self.template_service.generate_from_template(template_name, params)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n___ TestTemplateService.test_all_templates_generate_valid_agent_forge_output ___\ntests/unit/test_templates.py:644: in test_all_templates_generate_valid_agent_forge_output\n    result = self.template_service.generate_from_template(template_name)\nE   AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\n_______ TestEnhancedLookupService.test_lookup_key_generation_consistency _______\ntests/unit/test_lookup_service.py:46: in test_lookup_key_generation_consistency\n    key1 = self.lookup_service._generate_lookup_key(workflow_data)\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n____ TestEnhancedLookupService.test_lookup_key_uniqueness_different_inputs _____\ntests/unit/test_lookup_service.py:63: in test_lookup_key_uniqueness_different_inputs\n    key1 = self.lookup_service._generate_lookup_key(workflow1)\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n__________ TestEnhancedLookupService.test_lookup_key_similar_patterns __________\ntests/unit/test_lookup_service.py:80: in test_lookup_key_similar_patterns\n    key1 = self.lookup_service._generate_lookup_key(pattern1)\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n______ TestEnhancedLookupService.test_lookup_key_hash_collision_handling _______\ntests/unit/test_lookup_service.py:103: in test_lookup_key_hash_collision_handling\n    keys = [self.lookup_service._generate_lookup_key(p) for p in patterns]\ntests/unit/test_lookup_service.py:103: in <listcomp>\n    keys = [self.lookup_service._generate_lookup_key(p) for p in patterns]\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n_________ TestEnhancedLookupService.test_lookup_key_special_characters _________\ntests/unit/test_lookup_service.py:127: in test_lookup_key_special_characters\n    key = self.lookup_service._generate_lookup_key(pattern)\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n_________ TestEnhancedLookupService.test_similarity_search_exact_match _________\ntests/unit/test_lookup_service.py:157: in test_similarity_search_exact_match\n    \"pattern_key\": self.lookup_service._generate_lookup_key(query_pattern),\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\n_______ TestEnhancedLookupService.test_similarity_search_high_similarity _______\ntests/unit/test_lookup_service.py:191: in test_similarity_search_high_similarity\n    assert result[\"found\"] is True\nE   TypeError: 'NoneType' object is not subscriptable\n------------------------------ Captured log call -------------------------------\nWARNING  src.services.enhanced_lookup_service:enhanced_lookup_service.py:232 Database lookup failed, using fallback: 'coroutine' object has no attribute 'execute'\n_________ TestEnhancedLookupService.test_similarity_search_no_matches __________\ntests/unit/test_lookup_service.py:209: in test_similarity_search_no_matches\n    assert result[\"found\"] is False\nE   TypeError: 'NoneType' object is not subscriptable\n------------------------------ Captured log call -------------------------------\nWARNING  src.services.enhanced_lookup_service:enhanced_lookup_service.py:232 Database lookup failed, using fallback: 'coroutine' object has no attribute 'execute'\n__ TestEnhancedLookupService.test_similarity_search_multiple_matches_ranking ___\ntests/unit/test_lookup_service.py:233: in test_similarity_search_multiple_matches_ranking\n    assert result[\"found\"] is True\nE   TypeError: 'NoneType' object is not subscriptable\n------------------------------ Captured log call -------------------------------\nWARNING  src.services.enhanced_lookup_service:enhanced_lookup_service.py:232 Database lookup failed, using fallback: 'coroutine' object has no attribute 'execute'\n________ TestEnhancedLookupService.test_similarity_threshold_filtering _________\ntests/unit/test_lookup_service.py:253: in test_similarity_threshold_filtering\n    result = await self.lookup_service.find_similar_workflows_structural(\nE   TypeError: find_similar_workflows_structural() got an unexpected keyword argument 'similarity_threshold'\n__________ TestEnhancedLookupService.test_pattern_storage_new_pattern __________\ntests/unit/test_lookup_service.py:280: in test_pattern_storage_new_pattern\n    result = await self.lookup_service.store_workflow_pattern(new_pattern)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'store_workflow_pattern'\n________ TestEnhancedLookupService.test_pattern_storage_update_existing ________\ntests/unit/test_lookup_service.py:307: in test_pattern_storage_update_existing\n    result = await self.lookup_service.update_pattern_usage(existing_pattern_key)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'update_pattern_usage'\n_____ TestEnhancedLookupService.test_pattern_storage_usage_count_increment _____\ntests/unit/test_lookup_service.py:328: in test_pattern_storage_usage_count_increment\n    new_count = await self.lookup_service.increment_pattern_usage(pattern_key)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'increment_pattern_usage'\n_______ TestEnhancedLookupService.test_pattern_storage_timestamp_updates _______\ntests/unit/test_lookup_service.py:342: in test_pattern_storage_timestamp_updates\n    result = await self.lookup_service.update_pattern_access_time(pattern_key)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'update_pattern_access_time'\n________ TestEnhancedLookupService.test_cache_adaptation_minor_changes _________\ntests/unit/test_lookup_service.py:371: in test_cache_adaptation_minor_changes\n    adapted_state = await self.lookup_service.adapt_cached_state(\nE   TypeError: adapt_cached_state() missing 1 required positional argument: 'similarity_score'\n________ TestEnhancedLookupService.test_cache_adaptation_major_changes _________\ntests/unit/test_lookup_service.py:403: in test_cache_adaptation_major_changes\n    adapted_state = await self.lookup_service.adapt_cached_state(\nE   TypeError: adapt_cached_state() missing 1 required positional argument: 'similarity_score'\n____ TestEnhancedLookupService.test_cache_adaptation_similarity_thresholds _____\ntests/unit/test_lookup_service.py:424: in test_cache_adaptation_similarity_thresholds\n    adaptation_level = self.lookup_service._determine_adaptation_level(similarity)\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_determine_adaptation_level'\n_____ TestEnhancedLookupService.test_cache_adaptation_performance_tracking _____\ntests/unit/test_lookup_service.py:436: in test_cache_adaptation_performance_tracking\n    with patch.object(self.lookup_service, '_track_adaptation_performance') as mock_track:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.services.enhanced_lookup_service.EnhancedLookupService object at 0x10949be50> does not have the attribute '_track_adaptation_performance'\n_____________ TestEnhancedLookupService.test_temp_record_creation ______________\ntests/unit/test_lookup_service.py:459: in test_temp_record_creation\n    temp_id = await self.lookup_service.create_temp_workflow_record(workflow_data)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'create_temp_workflow_record'\n________ TestEnhancedLookupService.test_temp_record_update_with_results ________\ntests/unit/test_lookup_service.py:478: in test_temp_record_update_with_results\n    result = await self.lookup_service.update_temp_record_with_results(\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'update_temp_record_with_results'\n________ TestEnhancedLookupService.test_temp_record_cleanup_old_records ________\ntests/unit/test_lookup_service.py:499: in test_temp_record_cleanup_old_records\n    deleted_count = await self.lookup_service.cleanup_old_temp_records(max_age_hours=24)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'cleanup_old_temp_records'\n________ TestEnhancedLookupService.test_temp_record_session_management _________\ntests/unit/test_lookup_service.py:518: in test_temp_record_session_management\n    records = await self.lookup_service.get_session_temp_records(session_id)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'get_session_temp_records'\n_______ TestEnhancedLookupService.test_semantic_search_openai_embeddings _______\ntests/unit/test_lookup_service.py:535: in test_semantic_search_openai_embeddings\n    with patch('openai.OpenAI') as mock_openai_class:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1389: in __enter__\n    self.target = self.getter()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1564: in <lambda>\n    getter = lambda: _importer(target)\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1236: in _importer\n    thing = __import__(import_path)\nE   ModuleNotFoundError: No module named 'openai'\n_______ TestEnhancedLookupService.test_semantic_search_vector_similarity _______\ntests/unit/test_lookup_service.py:571: in test_semantic_search_vector_similarity\n    similarity = self.lookup_service._calculate_cosine_similarity(\nE   AttributeError: 'EnhancedLookupService' object has no attribute '_calculate_cosine_similarity'\n___ TestEnhancedLookupService.test_semantic_search_natural_language_queries ____\ntests/unit/test_lookup_service.py:603: in test_semantic_search_natural_language_queries\n    results = await self.lookup_service.semantic_search_workflows(query)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'semantic_search_workflows'\n_______ TestEnhancedLookupService.test_semantic_search_ranking_accuracy ________\ntests/unit/test_lookup_service.py:625: in test_semantic_search_ranking_accuracy\n    results = await self.lookup_service.semantic_search_workflows(query)\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'semantic_search_workflows'\n_____ TestEnhancedLookupService.test_lookup_service_performance_benchmarks _____\ntests/unit/test_lookup_service.py:643: in test_lookup_service_performance_benchmarks\n    (\"pattern_storage\", self.lookup_service.store_workflow_pattern,\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'store_workflow_pattern'\n___________ TestEnhancedLookupService.test_hybrid_search_integration ___________\ntests/unit/test_lookup_service.py:679: in test_hybrid_search_integration\n    with patch.object(self.lookup_service, 'semantic_search_workflows') as mock_semantic:\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1405: in __enter__\n    original, local = self.get_original()\n/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/unittest/mock.py:1378: in get_original\n    raise AttributeError(\nE   AttributeError: <src.services.enhanced_lookup_service.EnhancedLookupService object at 0x109562f70> does not have the attribute 'semantic_search_workflows'\n___________ TestEnhancedLookupService.test_cache_statistics_tracking ___________\ntests/unit/test_lookup_service.py:707: in test_cache_statistics_tracking\n    stats = await self.lookup_service.get_comprehensive_cache_statistics()\nE   AttributeError: 'EnhancedLookupService' object has no attribute 'get_comprehensive_cache_statistics'\n============================= slowest 10 durations =============================\n0.13s call     tests/unit/test_state_generator.py::TestStateGenerator::test_successful_ai_state_generation\n0.11s call     tests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_initialization_success\n0.10s setup    tests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_initialization_success\n0.02s teardown tests/unit/test_templates.py::TestTemplateService::test_extreme_parameter_values\n0.01s teardown tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[trading_bot]\n0.01s call     tests/unit/test_database_hybrid.py::TestDatabaseService::test_concurrent_access_handling\n0.01s setup    tests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[strict]\n0.01s teardown tests/unit/test_database_hybrid.py::TestDatabaseService::test_atomic_operations\n0.01s setup    tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[multi_agent_research]\n0.01s teardown tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[financial_analysis]\n=========================== short test summary info ============================\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_initialization_success - AttributeError: 'DatabaseService' object has no attribute 'initialize'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_connection_failure_handling - AttributeError: 'DatabaseService' object has no attribute 'initialize'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_supabase_retry_logic - AttributeError: 'DatabaseService' object has no attribute 'initialize'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_supabase_responses - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1fa0> does not have the attribute 'supabase_client'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_success - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084eaf70> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_not_found - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108703a30> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_all_workflows - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1580> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_all_workflows_with_pagination - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1087068e0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_state_success - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d1160> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_state_failure - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107e5c580> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_create_workflow - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108482160> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_delete_workflow - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107968a00> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_success - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084d9fd0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_empty - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084db130> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_with_filtering - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10870c700> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_get_workflow_blocks_with_sorting - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x107e5c340> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_create_workflow_blocks - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851d910> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_update_workflow_blocks - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1074f3be0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_delete_workflow_blocks - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108451bb0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_data_fallback_workflow_operations - assert None is not None\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_mock_data_structure_validation - TypeError: argument of type 'NoneType' is not iterable\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_transaction_context_manager - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108457be0> does not have the attribute 'supabase_client'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_transaction_rollback_on_error - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10861c160> does not have the attribute 'supabase_client'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_atomic_operations - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851e0a0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_concurrent_access_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aa190> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_deadlock_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10861c3a0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_query_optimization - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084e5460> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_batch_operations_performance - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10851ee20> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_connection_pooling_efficiency - AttributeError: 'DatabaseService' object has no attribute 'initialize'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_cache_invalidation - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1086891c0> does not have the attribute '_cached_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_connection_timeout_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1084ea9d0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_query_failure_recovery - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108689610> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_constraint_violation_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aaa30> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_table_not_found_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108693be0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_large_dataset_handling - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x10870cb20> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_sql_injection_prevention - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x1085aa2b0> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_database_hybrid.py::TestDatabaseService::test_data_validation_before_storage - AttributeError: <src.utils.database_hybrid.DatabaseService object at 0x108703670> does not have the attribute '_execute_supabase_query'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_successful_ai_state_generation - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_edge_inference_linear_workflow - AssertionError: assert {'from': 'starter-1', 'to': 'agent-1'} in [{'from': 'starter-1', 'to': 'agent-1', 'type': 'default'}, {'from': 'agent-1', 'to': 'output-1', 'type': 'default'}]\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_edge_inference_branching_workflow - AssertionError: assert {'from': 'starter-1', 'to': 'agent-1'} in [{'from': 'agent-1', 'to': 'starter-1', 'type': 'default'}, {'from': 'starter-1', 'to': 'output-1', 'type': 'default'}, {'from': 'output-1', 'to': 'agent-2', 'type': 'default'}]\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_trading_bot - TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_lead_generation - TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_multi_agent - TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_workflow_type_determination_generic - TypeError: _determine_workflow_type() missing 1 required positional argument: 'blocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_fallback_state_generation - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_missing_blocks - AttributeError: 'StateGenerator' object has no attribute '_enhance_state_with_missing_blocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_metadata_generation - AttributeError: 'StateGenerator' object has no attribute '_enhance_state_metadata'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_state_enhancement_subblocks - AttributeError: 'StateGenerator' object has no attribute '_enhance_subblocks'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_edge_validation_and_enhancement - AttributeError: 'StateGenerator' object has no attribute '_validate_and_fix_edges'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_missing_workflow - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_empty_blocks - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_invalid_data - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_error_handling_api_timeout - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_concurrent_state_generation - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_workflow_complexity_analysis - AttributeError: 'StateGenerator' object has no attribute '_analyze_workflow_complexity'\nFAILED tests/unit/test_state_generator.py::TestStateGenerator::test_state_generation_performance - AttributeError: 'StateGenerator' object has no attribute 'generate_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_valid_state - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_blocks - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_edges - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_missing_metadata - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_wrong_field_types - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_schema_validation_empty_state - AttributeError: 'WorkflowValidator' object has no attribute 'validate_schema'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[starter] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[agent] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[api] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[output] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_valid_types[tool] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[invalid_type] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[unknown] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[custom_block] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[workflow] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_invalid_types[process] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_missing_type_field - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_block_type_validation_mixed_valid_invalid - AttributeError: 'WorkflowValidator' object has no attribute 'validate_block_types'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_has_starter - AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_no_starter - AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_validation_multiple_starters - AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_starter_block_configuration_validation - AttributeError: 'WorkflowValidator' object has no attribute 'validate_starter_block'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gpt-4] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gpt-3.5-turbo] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[claude-3-5-sonnet] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[claude-3-haiku] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_valid_models[gemini-pro] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[gpt-5] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[claude-4] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[invalid-model] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[custom-ai] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_invalid_models[] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_missing_system_prompt - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_missing_model - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[0.0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[0.5] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[1.0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[1.5] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_valid[2.0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[-1.0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[3.0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[high] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_agent_config_validation_temperature_invalid[None] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_agent_config'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_valid_config - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_missing_url - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[not-a-url] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[ftp://invalid.com] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[javascript:alert(1)] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_invalid_url_format[None] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_missing_method - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_api_integration_validation_headers - AttributeError: 'WorkflowValidator' object has no attribute 'validate_api_integration'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_all_connected - AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_orphaned_blocks - AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_invalid_references - AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_circular_dependencies - AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_edge_connectivity_validation_self_referencing - AttributeError: 'WorkflowValidator' object has no attribute 'validate_edge_connectivity'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_lead_generation - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_multi_agent - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_trading_bot - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_pattern'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_workflow_pattern_validation_detection_accuracy - AttributeError: 'WorkflowValidator' object has no attribute '_detect_workflow_pattern'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-1000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[-200-2000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-1000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[0-2000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-1000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[500-2000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-0] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-1000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_valid_positions[1000-2000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[-100] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[2100] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_x_positions[5000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[-300] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[1100] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_invalid_y_positions[2000] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_negative_positions - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_float_vs_integer[float] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_position_bounds_validation_float_vs_integer[string] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_position_bounds'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_valid_structure - AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_missing_id_type - AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_nested_subblocks - AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_subblock_structure_validation_block_specific - AttributeError: 'WorkflowValidator' object has no attribute 'validate_subblock_structure'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_complete_workflow_validation_all_pass - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_complete_workflow_validation_multiple_failures - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[strict] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[lenient] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_validation_levels_and_severity[warning_only] - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_validation.py::TestWorkflowValidator::test_validation_performance_large_workflow - AttributeError: 'WorkflowValidator' object has no attribute 'validate_workflow_state'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_all_13_templates_exist - AttributeError: 'TemplateService' object has no attribute 'get_available_templates'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_metadata_structure - AttributeError: 'TemplateService' object has no attribute 'get_templates_with_metadata'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_categories_coverage - AttributeError: 'TemplateService' object has no attribute 'get_templates_with_metadata'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_structure_validation - AttributeError: 'TemplateService' object has no attribute 'get_available_templates'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[lead_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[trading_bot] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[multi_agent_research] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[customer_support] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[web3_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[data_pipeline] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[content_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[notification_system] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[social_media_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[ecommerce_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[hr_recruitment] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[financial_analysis] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_defaults[project_management] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[lead_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[trading_bot] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[multi_agent_research] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[customer_support] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[web3_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[data_pipeline] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[content_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[notification_system] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[social_media_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[ecommerce_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[hr_recruitment] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[financial_analysis] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_with_custom_params[project_management] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[lead_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[trading_bot] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[multi_agent_research] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[customer_support] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[web3_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[data_pipeline] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[content_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[notification_system] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[social_media_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[ecommerce_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[hr_recruitment] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[financial_analysis] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_block_structure_compliance[project_management] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[lead_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[trading_bot] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[multi_agent_research] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[customer_support] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[web3_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[data_pipeline] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[content_generation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[notification_system] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[social_media_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[ecommerce_automation] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[hr_recruitment] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[financial_analysis] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_edge_connections[project_management] - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_trading_bot_customization_parameters - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_lead_generation_customization_sources - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_social_media_platform_combinations - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_multi_agent_research_agent_count - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_specific_parameter_validation - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_block_types_per_template - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_block_positioning_logic - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_block_configuration_validity - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_subblocks_configuration - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_workflow_connections - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_invalid_template_name - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_empty_customization_handling - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_malformed_parameter_handling - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_partial_customization_robustness - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_extreme_parameter_values - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_generation_performance - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_template_consistency_across_calls - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_templates.py::TestTemplateService::test_all_templates_generate_valid_agent_forge_output - AttributeError: 'TemplateService' object has no attribute 'generate_from_template'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_generation_consistency - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_uniqueness_different_inputs - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_similar_patterns - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_hash_collision_handling - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_key_special_characters - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_exact_match - AttributeError: 'EnhancedLookupService' object has no attribute '_generate_lookup_key'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_high_similarity - TypeError: 'NoneType' object is not subscriptable\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_no_matches - TypeError: 'NoneType' object is not subscriptable\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_search_multiple_matches_ranking - TypeError: 'NoneType' object is not subscriptable\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_similarity_threshold_filtering - TypeError: find_similar_workflows_structural() got an unexpected keyword argument 'similarity_threshold'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_new_pattern - AttributeError: 'EnhancedLookupService' object has no attribute 'store_workflow_pattern'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_update_existing - AttributeError: 'EnhancedLookupService' object has no attribute 'update_pattern_usage'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_usage_count_increment - AttributeError: 'EnhancedLookupService' object has no attribute 'increment_pattern_usage'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_pattern_storage_timestamp_updates - AttributeError: 'EnhancedLookupService' object has no attribute 'update_pattern_access_time'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_minor_changes - TypeError: adapt_cached_state() missing 1 required positional argument: 'similarity_score'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_major_changes - TypeError: adapt_cached_state() missing 1 required positional argument: 'similarity_score'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_similarity_thresholds - AttributeError: 'EnhancedLookupService' object has no attribute '_determine_adaptation_level'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_adaptation_performance_tracking - AttributeError: <src.services.enhanced_lookup_service.EnhancedLookupService object at 0x10949be50> does not have the attribute '_track_adaptation_performance'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_creation - AttributeError: 'EnhancedLookupService' object has no attribute 'create_temp_workflow_record'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_update_with_results - AttributeError: 'EnhancedLookupService' object has no attribute 'update_temp_record_with_results'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_cleanup_old_records - AttributeError: 'EnhancedLookupService' object has no attribute 'cleanup_old_temp_records'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_temp_record_session_management - AttributeError: 'EnhancedLookupService' object has no attribute 'get_session_temp_records'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_openai_embeddings - ModuleNotFoundError: No module named 'openai'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_vector_similarity - AttributeError: 'EnhancedLookupService' object has no attribute '_calculate_cosine_similarity'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_natural_language_queries - AttributeError: 'EnhancedLookupService' object has no attribute 'semantic_search_workflows'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_semantic_search_ranking_accuracy - AttributeError: 'EnhancedLookupService' object has no attribute 'semantic_search_workflows'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_lookup_service_performance_benchmarks - AttributeError: 'EnhancedLookupService' object has no attribute 'store_workflow_pattern'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_hybrid_search_integration - AttributeError: <src.services.enhanced_lookup_service.EnhancedLookupService object at 0x109562f70> does not have the attribute 'semantic_search_workflows'\nFAILED tests/unit/test_lookup_service.py::TestEnhancedLookupService::test_cache_statistics_tracking - AttributeError: 'EnhancedLookupService' object has no attribute 'get_comprehensive_cache_statistics'\n================== 251 failed, 3 passed, 3 warnings in 4.90s ===================\n",
      "stderr": "",
      "tests_collected": 254,
      "tests_passed": 0,
      "tests_failed": 0,
      "tests_skipped": 0,
      "duration": 5.838947057723999,
      "success": false
    },
    "integration_tests": {
      "phase": "Integration Tests",
      "start_time": 1754345397.59074,
      "command": [
        "/Library/Developer/CommandLineTools/usr/bin/python3",
        "-m",
        "pytest",
        "--tb=short",
        "-v",
        "--no-cov",
        "--disable-warnings",
        "/Users/rizwanmoidunni/Github/internal/tests/integration"
      ],
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.9.6, pytest-8.4.1, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nrootdir: /Users/rizwanmoidunni/Github/internal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0, Faker-37.1.0, cov-6.2.1, mock-3.14.1, benchmark-5.1.0\nasyncio: mode=auto, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 20 items\n\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_full_workflow_generation_flow FAILED [  5%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_workflow_validation_flow PASSED [ 10%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_workflow_state_retrieval PASSED [ 15%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_health_check_integration FAILED [ 20%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_block_types_documentation PASSED [ 25%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_error_handling_integration FAILED [ 30%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_api_documentation_integration PASSED [ 35%]\ntests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_concurrent_requests_handling PASSED [ 40%]\ntests/integration/test_full_workflow.py::TestTemplateIntegration::test_template_listing PASSED [ 45%]\ntests/integration/test_full_workflow.py::TestTemplateIntegration::test_template_workflow_creation PASSED [ 50%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_mock_data_availability PASSED [ 55%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_fixture_structure PASSED [ 60%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_template_names_parameterized[trading_bot] PASSED [ 65%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_template_names_parameterized[lead_generation] PASSED [ 70%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_template_names_parameterized[social_media_automation] PASSED [ 75%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_mock_responses_structure PASSED [ 80%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_async_test_support PASSED [ 85%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_environment_setup PASSED [ 90%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_performance_monitoring PASSED [ 95%]\ntests/integration/test_simple_integration.py::TestSimpleIntegration::test_error_scenarios_fixture PASSED [100%]\n\n=================================== FAILURES ===================================\n_________ TestAgentForgeIntegration.test_full_workflow_generation_flow _________\ntests/integration/test_full_workflow.py:174: in test_full_workflow_generation_flow\n    assert generated_state[\"metadata\"][\"version\"] == \"1.0.0\"\nE   KeyError: 'version'\n___________ TestAgentForgeIntegration.test_health_check_integration ____________\ntests/integration/test_full_workflow.py:247: in test_health_check_integration\n    assert \"checks\" in result\nE   AssertionError: assert 'checks' in {'status': 'healthy', 'deployment': 'vercel-serverless', 'timestamp': '2025-08-04T22:09:58.974508Z', 'service': 'agent-forge-state-generator', 'version': '1.0.0', 'components': {'api': 'operational', 'database': {'status': 'mock', 'database': 'mock_data', 'connected': False, 'supabase_url_configured': True, 'supabase_key_configured': True, 'supabase_url': 'https://acptpimmuyvhjrsmzltc.supabase.co', 'supabase_key': 'SET', 'mock_workflows': 1, 'note': 'Using mock data - set SUPABASE_URL and SUPABASE_SERVICE_KEY for database'}, 'ai_integration': {'anthropic_configured': True, 'status': 'configured'}}, 'environment': {'python_version': '3.9.6', 'vercel_region': 'unknown', 'vercel_url': 'unknown'}}\n__________ TestAgentForgeIntegration.test_error_handling_integration ___________\ntests/integration/test_full_workflow.py:282: in test_error_handling_integration\n    assert response.status_code == 404\nE   assert 200 == 404\nE    +  where 200 = <Response [200 OK]>.status_code\n------------------------------ Captured log call -------------------------------\nERROR    src.services.state_generator:state_generator.py:146 Error in cached state generation: Workflow non-existent-workflow not found\n============================= slowest 10 durations =============================\n0.09s setup    tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_full_workflow_generation_flow\n0.02s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_full_workflow_generation_flow\n0.01s call     tests/integration/test_simple_integration.py::TestSimpleIntegration::test_async_test_support\n0.01s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_api_documentation_integration\n0.01s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_concurrent_requests_handling\n0.00s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_workflow_state_retrieval\n0.00s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_workflow_validation_flow\n0.00s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_error_handling_integration\n0.00s setup    tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_api_documentation_integration\n0.00s call     tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_health_check_integration\n=========================== short test summary info ============================\nFAILED tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_full_workflow_generation_flow - KeyError: 'version'\nFAILED tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_health_check_integration - AssertionError: assert 'checks' in {'status': 'healthy', 'deployment': 'vercel-serverless', 'timestamp': '2025-08-04T22:09:58.974508Z', 'service': 'agent-forge-state-generator', 'version': '1.0.0', 'components': {'api': 'operational', 'database': {'status': 'mock', 'database': 'mock_data', 'connected': False, 'supabase_url_configured': True, 'supabase_key_configured': True, 'supabase_url': 'https://acptpimmuyvhjrsmzltc.supabase.co', 'supabase_key': 'SET', 'mock_workflows': 1, 'note': 'Using mock data - set SUPABASE_URL and SUPABASE_SERVICE_KEY for database'}, 'ai_integration': {'anthropic_configured': True, 'status': 'configured'}}, 'environment': {'python_version': '3.9.6', 'vercel_region': 'unknown', 'vercel_url': 'unknown'}}\nFAILED tests/integration/test_full_workflow.py::TestAgentForgeIntegration::test_error_handling_integration - assert 200 == 404\n +  where 200 = <Response [200 OK]>.status_code\n=================== 3 failed, 17 passed, 3 warnings in 0.76s ===================\n",
      "stderr": "",
      "tests_collected": 20,
      "tests_passed": 0,
      "tests_failed": 0,
      "tests_skipped": 0,
      "duration": 1.62666916847229,
      "success": false
    }
  },
  "summary": {
    "total_duration": 11.027427911758423,
    "phases_run": 3,
    "successful_phases": 0,
    "total_collected": 274,
    "total_passed": 0,
    "total_failed": 0,
    "total_skipped": 0,
    "success_rate": 0.0
  }
}